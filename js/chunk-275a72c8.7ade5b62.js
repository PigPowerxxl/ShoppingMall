(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-275a72c8"],{1276:function(e,t,a){"use strict";var n=a("d784"),r=a("44e7"),o=a("825a"),l=a("1d80"),i=a("4840"),c=a("8aa5"),u=a("50c4"),s=a("14c3"),d=a("9263"),f=a("d039"),m=[].push,b=Math.min,p=4294967295,h=!f((function(){return!RegExp(p,"y")}));n("split",2,(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(l(this)),o=void 0===a?p:a>>>0;if(0===o)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,o);var i,c,u,s=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,h=new RegExp(e.source,f+"g");while(i=d.call(h,n)){if(c=h.lastIndex,c>b&&(s.push(n.slice(b,i.index)),i.length>1&&i.index<n.length&&m.apply(s,i.slice(1)),u=i[0].length,b=c,s.length>=o))break;h.lastIndex===i.index&&h.lastIndex++}return b===n.length?!u&&h.test("")||s.push(""):s.push(n.slice(b)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var r=l(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r,a):n.call(String(r),t,a)},function(e,r){var l=a(n,e,this,r,n!==t);if(l.done)return l.value;var d=o(e),f=String(this),m=i(d,RegExp),g=d.unicode,k=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),v=new m(h?d:"^(?:"+d.source+")",k),O=void 0===r?p:r>>>0;if(0===O)return[];if(0===f.length)return null===s(v,f)?[f]:[];var j=0,C=0,N=[];while(C<f.length){v.lastIndex=h?C:0;var V,x=s(v,h?f:f.slice(C));if(null===x||(V=b(u(v.lastIndex+(h?0:C)),f.length))===j)C=c(f,C,g);else{if(N.push(f.slice(j,C)),N.length===O)return N;for(var y=1;y<=x.length-1;y++)if(N.push(x[y]),N.length===O)return N;C=j=V}}return N.push(f.slice(j)),N}]}),!h)},2532:function(e,t,a){"use strict";var n=a("23e7"),r=a("5a34"),o=a("1d80"),l=a("ab13");n({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~String(o(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"38ab":function(e,t,a){"use strict";a("ae98")},"44e7":function(e,t,a){var n=a("861d"),r=a("c6b6"),o=a("b622"),l=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==r(e))}},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"8caa":function(e,t,a){"use strict";a.r(t);a("d81d"),a("fb6a"),a("4de4"),a("caad"),a("2532");var n=a("7a23"),r=Object(n["withScopeId"])("data-v-e4c5b494");Object(n["pushScopeId"])("data-v-e4c5b494");var o=Object(n["createVNode"])("span",{style:{"line-height":"40px"}},"商场名称:",-1),l=Object(n["createTextVNode"])("查询"),i=Object(n["createTextVNode"])("重置"),c=Object(n["createTextVNode"])("导出"),u=Object(n["createTextVNode"])("编辑"),s=Object(n["createTextVNode"])("删除"),d={class:"pagination"},f={class:"dialog-footer"},m=Object(n["createTextVNode"])("确 定"),b=Object(n["createTextVNode"])("取 消");Object(n["popScopeId"])();var p=r((function(e,t,a,p,h,g){var k=Object(n["resolveComponent"])("crumbs"),v=Object(n["resolveComponent"])("el-col"),O=Object(n["resolveComponent"])("el-option"),j=Object(n["resolveComponent"])("el-select"),C=Object(n["resolveComponent"])("el-button"),N=Object(n["resolveComponent"])("export-excel"),V=Object(n["resolveComponent"])("el-button-group"),x=Object(n["resolveComponent"])("el-row"),y=Object(n["resolveComponent"])("el-table-column"),w=Object(n["resolveComponent"])("el-table"),S=Object(n["resolveComponent"])("el-pagination"),_=Object(n["resolveComponent"])("el-card"),L=Object(n["resolveComponent"])("el-form-item"),D=Object(n["resolveComponent"])("el-time-picker"),z=Object(n["resolveComponent"])("el-form"),B=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(k,{menu:"商场管理",subMenu:"商场信息"}),Object(n["createVNode"])(_,null,{header:r((function(){return[Object(n["createVNode"])(x,null,{default:r((function(){return[Object(n["createVNode"])(v,{span:2},{default:r((function(){return[o]})),_:1}),Object(n["createVNode"])(v,{span:12},{default:r((function(){return[Object(n["createVNode"])(j,{modelValue:h.marketName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.marketName=e}),placeholder:"请选择",clearable:""},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(h.marketList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(v,{span:9,style:{display:"flex","justify-content":"flex-end"}},{default:r((function(){return[Object(n["createVNode"])(V,null,{default:r((function(){return[Object(n["createVNode"])(C,{type:"primary",icon:"el-icon-search",onClick:g.onQuery},{default:r((function(){return[l]})),_:1},8,["onClick"]),Object(n["createVNode"])(C,{type:"primary",icon:"el-icon-refresh-right",onClick:g.reSet},{default:r((function(){return[i]})),_:1},8,["onClick"]),Object(n["createVNode"])(N,{"file-name":"商场信息",header:h.tableSet.map((function(e){return e.label})),"filter-filed":h.tableSet.map((function(e){return e.value})),data:g.exportTable},{default:r((function(){return[c]})),_:1},8,["header","filter-filed","data"])]})),_:1})]})),_:1})]})),_:1})]})),default:r((function(){return[Object(n["createVNode"])(w,{data:h.tableData.filter((function(e){return!h.marketName||e.marketName.toLowerCase().includes(h.marketName.toLowerCase())})).slice((h.currentPage-1)*h.pagesize,h.currentPage*h.pagesize),border:"",class:"table","row-key":"id",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:e.handleSelectionChange,onSortChange:g.sortChange,"current-page":h.currentPage,stripe:""},{default:r((function(){return[Object(n["createVNode"])(y,{type:"index",label:"序号",width:"100",align:"center"}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(h.tableSet,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(y,{key:e,prop:e.value,label:e.label,align:"center",sortable:"总流量"==e.label},null,8,["prop","label","sortable"])})),128)),Object(n["createVNode"])(y,{label:"操作",width:"200",align:"center"},{default:r((function(e){return[Object(n["createVNode"])(C,{onClick:function(t){return g.handleEdit(e.$index,e.row)},size:"mini"},{default:r((function(){return[u]})),_:2},1032,["onClick"]),Object(n["createVNode"])(C,{size:"mini",type:"danger",onClick:function(t){return g.handleDelete(e.$index,e.row)}},{default:r((function(){return[s]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","onSelectionChange","onSortChange","current-page"]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(S,{onSizeChange:g.handleSizeChange,onCurrentChange:g.handleCurrentChange,"page-sizes":[2,5,10],"page-size":h.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:h.tableData.filter((function(e){return!h.marketName||e.marketName.toLowerCase().includes(h.marketName.toLowerCase())})).length},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]})),_:1}),Object(n["createVNode"])(B,{title:"编辑",modelValue:h.editVisible,"onUpdate:modelValue":t[5]||(t[5]=function(e){return h.editVisible=e}),width:"30%"},{footer:r((function(){return[Object(n["createVNode"])("span",f,[Object(n["createVNode"])(C,{type:"primary",onClick:g.saveEdit},{default:r((function(){return[m]})),_:1},8,["onClick"]),Object(n["createVNode"])(C,{onClick:g.cancelEdit},{default:r((function(){return[b]})),_:1},8,["onClick"])])]})),default:r((function(){return[Object(n["createVNode"])(z,{ref:"form",model:h.form,"label-width":"130px"},{default:r((function(){return[Object(n["createVNode"])(L,{label:"商场名称："},{default:r((function(){return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(h.form.marketName),1)]})),_:1}),Object(n["createVNode"])(L,{label:"营业时间段"},{default:r((function(){return[Object(n["createVNode"])(D,{"is-range":"",modelValue:h.timeRange,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.timeRange=e}),"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(L,{label:"商场所属集团:"},{default:r((function(){return[Object(n["createVNode"])(j,{modelValue:h.form.marketGroup,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.marketGroup=e}),placeholder:"请选择"},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(h.groupList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(L,{label:"所属大区:"},{default:r((function(){return[Object(n["createVNode"])(j,{modelValue:h.form.regionalinfo,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h.form.regionalinfo=e}),placeholder:"请选择"},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(h.regionalinfoList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])})),h=(a("a434"),a("ac1f"),a("1276"),a("00fe")),g=a("bc3a"),k=a.n(g),v=a("a7c0"),O={name:"marketInfo",data:function(){return{marketIndex:"",timeRange:[],marketName:"",marketList:[],groupList:[],regionalinfoList:[],typeList:[],queryMarket:"",tableData:[],tableSet:[{value:"marketName",label:"商场名称"},{value:"marketGroup",label:"商场所属集团"},{value:"regionalinfo",label:"所属大区信息"},{value:"businessTime",label:"营业时间段"},{value:"totalFlow",label:"总流量"},{value:"dataTime",label:"日期"}],marketData:[{value:"qggc",marketname:"群光广场",marketgroup:"蓝天集团",regionalinfo:"华中大区",businesshours:"14",totalflow:123,date:"2020-1-1"},{value:"M+",marketname:"M+购物广场",marketgroup:"长江实业",regionalinfo:"华中大区",businesshours:"15",totalflow:221,date:"2020-1-1"},{value:"ytcyc",marketname:"银泰创意城",marketgroup:"ali",regionalinfo:"华中大区",businesshours:"11",totalflow:255,date:"2020-1-1"},{value:"sdgc",marketname:"时代商场",marketgroup:"汉龙实业",regionalinfo:"华中大区",businesshours:"12",totalflow:87,date:"2020-1-1"},{value:"zbcc",marketname:"中百仓储",marketgroup:"中百集团",regionalinfo:"华中大区",businesshours:"15",totalflow:231,date:"2020-1-1"},{value:"zsbh",marketname:"中商百货",marketgroup:"中商集团",regionalinfo:"华中大区",businesshours:"16",totalflow:222,date:"2020-1-1"}],marketDataCache:"",searchTableData:[],multipleSelection:[],delList:[],editVisible:!1,form:{},idx:-1,currentPage:1,pagesize:5,total:0}},mounted:function(){var e=this;k()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMarketInfo").then((function(t){console.log(t.data.list),e.tableData=t.data.list,e.marketList=t.data.marketName,e.regionalinfoList=t.data.regionalinfo,e.groupList=t.data.marketGroup,e.typeList=t.data.type}))},methods:{handleDelete:function(e){var t=this;this.$confirm("确定要删除这条记录吗？","提示",{type:"warning"}).then((function(){t.tableData.splice(e+(t.currentPage-1)*t.pagesize,1),t.total=t.tableData.filter((function(e){return!t.marketName||e.marketName.toLowerCase().includes(t.marketName.toLowerCase())})).length})).catch((function(){}))},handleEdit:function(e,t){console.log(t),this.timeRange=[this.$moment(t.businessTime.split("-")[0],"HH:mm"),this.$moment(t.businessTime.split("-")[1],"HH:mm")],console.log(this.timeRange),this.idx=e,this.marketDataCache=JSON.stringify(t),this.form=t,this.editVisible=!0},cancelEdit:function(){console.log(this.marketDataCache),this.editVisible=!1,this.tableData[this.idx]=JSON.parse(this.marketDataCache),this.marketDataCache=""},saveEdit:function(){this.editVisible=!1,this.form.businessTime=this.$moment(this.timeRange[0]).format("HH:mm")+"-"+this.$moment(this.timeRange[1]).format("HH:mm"),this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.tableData[this.idx]=this.form,this.marketDataCache=""},sortChange:function(e){"ascending"==e.order?this.tableData.sort((function(t,a){return t[e.prop]-a[e.prop]})):"descending"==e.order?this.tableData.sort((function(t,a){return a[e.prop]-t[e.prop]})):this.tableData.sort((function(e,t){return e.flowRank-t.flowRank}))},onQuery:function(){var e=this;k()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMarketInfo").then((function(t){console.log(t.data.list),e.tableData=t.data.list,e.marketList=t.data.marketName}))},reSet:function(){this.marketName="",this.onQuery()},handleSizeChange:function(e){this.pagesize=e,console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e}},components:{crumbs:h["a"],ExportExcel:v["a"]},computed:{exportTable:function(){var e=this;return this.tableData.filter((function(t){return!e.marketName||t.marketName.toLowerCase().includes(e.marketName.toLowerCase())}))}}};a("38ab");O.render=p,O.__scopeId="data-v-e4c5b494";t["default"]=O},ab13:function(e,t,a){var n=a("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},ae98:function(e,t,a){},caad:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").includes,o=a("44d2");n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},fb6a:function(e,t,a){"use strict";var n=a("23e7"),r=a("861d"),o=a("e8b5"),l=a("23cb"),i=a("50c4"),c=a("fc6a"),u=a("8418"),s=a("b622"),d=a("1dde"),f=d("slice"),m=s("species"),b=[].slice,p=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var a,n,s,d=c(this),f=i(d.length),h=l(e,f),g=l(void 0===t?f:t,f);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?r(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return b.call(d,h,g);for(n=new(void 0===a?Array:a)(p(g-h,0)),s=0;h<g;h++,s++)h in d&&u(n,s,d[h]);return n.length=s,n}})}}]);
//# sourceMappingURL=chunk-275a72c8.7ade5b62.js.map