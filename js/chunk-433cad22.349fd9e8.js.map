{"version":3,"sources":["webpack:///./src/views/pages/Crumbs.vue","webpack:///./src/views/pages/Crumbs.vue?a194","webpack:///./src/views/marketFlow/HolidayRanking.vue","webpack:///./src/views/marketFlow/HolidayRanking.vue?1d16","webpack:///./src/views/marketFlow/HolidayRanking.vue?3c5f","webpack:///./src/views/pages/indexSelect/IndexSelect.vue","webpack:///./src/views/pages/indexSelect/IndexSelect.vue?90ab"],"names":["class","separator","menu","subMenu","props","data","render","__scopeId","style","ref","span","marketGetA","marketSet","marketName","indexGet","indexSet","index","chartChange","disabled","datePickerAble","timeRange","type","shortcuts","range-separator","start-placeholder","end-placeholder","value-format","align","offset","icon","onQuery","reSet","header","indexName","screenWidth","document","body","clientWidth","value","label","chart","chartData","holidayData","time","text","end","Date","start","setTime","getTime","$moment","subtract","setFullYear","getFullYear","holidayName","components","crumbs","Crumbs","market","MarketSelect","indexSelect","IndexSelect","methods","marketGet","val","this","timeIntval","startTime","endTime","arr","moment","format","isBefore","push","add","initChart","myChart","echarts","option","title","show","x","y","textStyle","fontSize","fontWeight","tooltip","position","axisPointer","crossStyle","color","legend","top","left","toolbox","feature","dataView","readOnly","magicType","restore","saveAsImage","dataZoom","xAxisIndex","yAxisIndex","calculable","xAxis","yAxis","series","console","log","setOption","clear","startOf","axiosArr","a","all","length","then","spread","res","list","allDate","propsName","holidayValue","i","map","item","date","isBetween","indexOf","holiday_cn","totalWeekend","isoWeekday","year","name","markPoint","markLine","$refs","holiday","mounted","that","window","onresize","watch","timer","setTimeout","resize","id","indexValue","placeholder","widthSet","submitIndex","filterable","key","indexList","textWidth","getElementById","offsetWidth","$emit","computed"],"mappings":"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","file":"js/chunk-433cad22.349fd9e8.js","sourcesContent":["//流量概况\r\n<template>\r\n  <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> {{menu}}\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>{{subMenu}}</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props:['menu','subMenu'],\r\n  data(){\r\n    return {\r\n      \r\n    }\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Crumbs.vue?vue&type=template&id=4ba92b4c&scoped=true\"\nimport script from \"./Crumbs.vue?vue&type=script&lang=js\"\nexport * from \"./Crumbs.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-4ba92b4c\"\n\nexport default script","//节假日分析\r\n<template>\r\n  <div>\r\n    <!-- 面包屑 -->\r\n    <crumbs menu='商场流量' subMenu='节假日分析' /> \r\n    <el-card>\r\n      <el-row>\r\n            <el-col :span='2' class=\"flexCenter fontSet\">指标选择:</el-col>\r\n            <el-col :span='8'>\r\n              <el-row>\r\n                  <el-col :span='12'>\r\n                    <market @marketGet='marketGetA' :marketSet='marketName' />\r\n                  </el-col>\r\n                  <el-col :span='12' >\r\n                    <index-select @indexGet='indexGet' :indexSet='index'/>\r\n                  </el-col>\r\n              </el-row>\r\n            </el-col>\r\n            <el-col :span='2' class=\"flexCenter borderSet fontSet\">时间:</el-col>\r\n            <el-col :span='6'>\r\n              <el-row>\r\n                  <div class=\"block\" style=\"width:100%;\">\r\n                    <el-date-picker\r\n                        @change=\"chartChange\"\r\n                        style=\"width:100%;\"\r\n                        :disabled='datePickerAble'\r\n                        v-model=\"timeRange\"\r\n                        type=\"daterange\"\r\n                        :shortcuts=\"shortcuts\"\r\n                        range-separator=\"至\"\r\n                        start-placeholder=\"开始日期\"\r\n                        end-placeholder=\"结束日期\"\r\n                        value-format=\"yyyy-MM-dd\"\r\n                        align=\"right\">\r\n                    </el-date-picker>\r\n                  </div>\r\n              </el-row>\r\n            </el-col>\r\n            <el-col :span='4' :offset=\"1\">\r\n          <!-- <el-button-group> -->\r\n              <el-button type=\"primary\" icon=\"el-icon-search\" @click='onQuery' >查询</el-button>\r\n              <el-button type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"reSet\">重置</el-button>\r\n              <!-- <el-button type=\"primary\" icon=\"el-icon-document\"  @click=\"dialogFormVisible = true\">导出</el-button> -->\r\n            <!-- </el-button-group> -->\r\n        </el-col>\r\n          </el-row>\r\n    </el-card>\r\n    <el-card header=\"流量对比\" style=\"font-weight: bold;margin-top:10px\">\r\n                <template #header>\r\n                  <el-row>\r\n                    <el-col :span='10' style=\"line-height: 40px;\">\r\n                      <span>节假日分析</span>\r\n                    </el-col>\r\n                  </el-row>\r\n                </template>\r\n                <div ref=\"holiday\" style=\"height: 390px;width:100%;\" >\r\n                </div>\r\n              </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Crumbs from '../pages/Crumbs'\r\nimport MarketSelect from '../pages/indexSelect/MarketSelect'\r\nimport IndexSelect from '../pages/indexSelect/IndexSelect'\r\nimport * as echarts from 'echarts'\r\nimport axios from 'axios'\r\nexport default {\r\n  data(){\r\n    return {\r\n      indexName:'客流量',\r\n      screenWidth: document.body.clientWidth,   \r\n      marketName:'万达',\r\n      index:[{\r\n                value: '客流量',\r\n                label: '客流量',\r\n              }, {\r\n                value: '集客力',\r\n                label: '集客力',\r\n              }, {\r\n                value: '提袋率',\r\n                label: '提袋率',\r\n              }, {\r\n                value: '游逛深度',\r\n                label: '游逛深度',\r\n              }]\r\n      ,\r\n      chart:{},\r\n      chartData:[],\r\n      holidayData:[],\r\n      datePickerAble:false,\r\n      timeRange:'',\r\n      time:'近7日',\r\n      shortcuts: [{\r\n                text: '最近一周',\r\n                value: (() => {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                  return [this.$moment().subtract(7, 'days'), end]\r\n                })()\r\n              }, {\r\n                text: '最近一月',\r\n                value: (() => {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                  return [this.$moment().subtract(1, 'months'), end]\r\n                })()\r\n              }, {\r\n                text: '最近一年',\r\n                value: (() => {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setFullYear(start.getFullYear()-1)\r\n                  // start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                  return [this.$moment().subtract(1, 'years'), end]\r\n                })()\r\n              }],\r\n      holidayName:[]\r\n      \r\n    }\r\n    \r\n  },\r\n  components:{\r\n    crumbs:Crumbs,\r\n    // areaSelect:AreaSelect,\r\n    market:MarketSelect,\r\n    // smallTag\r\n\r\n    indexSelect:IndexSelect,\r\n  },\r\n  methods:{\r\n    marketGet(val){\r\n      this.marketName=val\r\n    },\r\n    indexGet(val){\r\n      this.indexName=val\r\n    },\r\n    timeIntval(startTime,endTime){\r\n          let arr = []\r\n          let moment=this.$moment\r\n          startTime = moment(startTime).format('YYYY-MM-DD')\r\n          endTime = moment(endTime).format('YYYY-MM-DD')\r\n          while (moment(startTime).isBefore(endTime)) {\r\n            arr.push(moment(startTime).format('YYYY-MM-DD'))\r\n            startTime = moment(startTime).add(1, 'days').format('YYYY-MM-DD')\r\n          }\r\n          arr.push(moment(endTime).format('YYYY-MM-DD'))\r\n          return arr\r\n      },\r\n    initChart(chart,data){\r\n            let myChart =echarts.init(chart);\r\n            let option = {\r\n                  title:{\r\n                    show:true,\r\n                    text:this.$moment(this.timeRange[0]).format('YYYY-MM-DD') +'至'+this.$moment(this.timeRange[1]).format('YYYY-MM-DD')+' 节假日'+this.indexName,\r\n                    x:'center',\r\n                    y:'top',\r\n                    textStyle:{\r\n                      fontSize:'14',\r\n                      fontWeight:'bolder'\r\n                    }\r\n                  },\r\n                  tooltip: {\r\n                      position: 'top',\r\n                      axisPointer: {\r\n                          type: 'cross',\r\n                          crossStyle: {\r\n                              color: '#999'\r\n                          }\r\n                      },\r\n                  },\r\n                  legend: {\r\n                      data:['节假日'],\r\n                      top:'top',\r\n                      left:'left'\r\n                  },\r\n                  toolbox: {\r\n                      show: true,\r\n                      feature: {\r\n                          dataView: {show: true, readOnly: false},\r\n                          magicType: {show: true, type: ['line', 'bar']},\r\n                          restore: {show: true},\r\n                          saveAsImage: {show: true}\r\n                      }\r\n                  },\r\n                  dataZoom: [{\r\n                      type: 'slider',\r\n                      xAxisIndex: [0],\r\n                  }, {\r\n                      type: 'slider',\r\n                      yAxisIndex: [0],\r\n                  },{\r\n                    type:'inside',\r\n                      xAxisIndex: [0],\r\n                  },{\r\n                    type:'inside',\r\n                      yAxisIndex: [0],\r\n                  }],\r\n                  calculable: true,\r\n                  xAxis: [\r\n                      {\r\n                          type: 'category',\r\n                          data: this.holidayName\r\n                      }\r\n                  ],\r\n                  yAxis: [\r\n                      {\r\n                          type: 'value'\r\n                      }\r\n                  ],\r\n                  series: data\r\n              };\r\n            console.log(option.legend.data)\r\n            console.log(option.series)\r\n            myChart.setOption(option);\r\n            return myChart\r\n    },\r\n    onQuery(){\r\n      this.chartChange()\r\n    },\r\n    chartChange(){\r\n      this.chart.clear()\r\n      let start=this.$moment(this.timeRange[0]).startOf('year').format('YYYY')\r\n      let end=this.$moment(this.timeRange[1]).startOf('year').format('YYYY')\r\n      let axiosArr=[]\r\n      console.log(this.timeRange)\r\n      axios.all([])\r\n      for(start;start<=end;start++){\r\n        axiosArr.push(axios(`https://api.apihubs.cn/holiday/get?year=${start}&holiday=22,11,44,55,66,77,88,97&cn=1&size=33`))\r\n      }\r\n      console.log(this.timeIntval(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD')))\r\n      axiosArr.push(axios(`https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getHoliday?lg=${this.timeIntval(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD')).length}`))\r\n      axios.all(axiosArr).then(\r\n        axios.spread((...res)=>{\r\n          console.log(res[1])\r\n          let data=res[([...res].length-1)].data.list\r\n          let allDate=this.timeIntval(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD'))\r\n          console.log(data)\r\n          console.log(allDate)\r\n          let propsName=''\r\n          if(this.indexName=='客流量'){\r\n                  propsName='flow'\r\n                }else if(this.indexName=='集客力'){\r\n                  propsName='getPower'\r\n                }else if(this.indexName=='提袋率'){\r\n                  propsName='rate'\r\n                }else if(this.indexName=='游逛深度'){\r\n                  propsName='deep'\r\n                }\r\n          \r\n          let holidayName=[]\r\n          let holidayValue=[]\r\n          for(let i=0;i<[...res].length-1;i++){\r\n            console.log(i)\r\n            let holidayData=res[i].data.data.list\r\n\r\n            holidayData.map(item=>{\r\n                        if(this.$moment(item.date,'YYYYMMDD').isBetween(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD'),'day','[]')){\r\n                          if(holidayName.indexOf(item.holiday_cn)!=-1){\r\n                            holidayValue[holidayName.indexOf(item.holiday_cn)]+=data[propsName][allDate.indexOf(this.$moment(item.date,'YYYYMMDD').format('YYYY-MM-DD'))]\r\n                          }else{\r\n                            holidayName.push(item.holiday_cn)\r\n                            holidayValue.push(data[propsName][allDate.indexOf(this.$moment(item.date,'YYYYMMDD').format('YYYY-MM-DD'))])\r\n                          }\r\n                        }\r\n                      })\r\n                  \r\n          }\r\n            let totalWeekend=0\r\n        for(let i=0;i<allDate.length;i++){\r\n          if(this.$moment(allDate[i]).isoWeekday()==6||this.$moment(allDate[i]).isoWeekday()==7){\r\n            totalWeekend+=data[propsName][i]\r\n          }\r\n        }\r\n        if(totalWeekend!=0){\r\n          holidayName.push('周末')\r\n          holidayValue.push(totalWeekend)\r\n        }\r\n        let start=this.$moment(this.timeRange[0]).startOf('year').format('YYYY')\r\n        let end=this.$moment(this.timeRange[1]).startOf('year').format('YYYY')\r\n        for(let i=start;i<=end;i++){\r\n          if(this.$moment(this.$moment(i).year()+`-11-11`).isBetween(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD'),'day','[]')){\r\n            holidayName.push('双十一')\r\n            holidayValue.push(data[propsName][allDate.indexOf(this.$moment(this.$moment(i).year()+`-11-11`).format('YYYY-MM-DD'))])\r\n          }\r\n        }\r\n        this.holidayName=holidayName\r\n        this.chartData=[{\r\n              name: '节假日',\r\n              type: 'bar',\r\n              data: holidayValue,\r\n              markPoint: {\r\n                  data: [\r\n                      {type: 'max', name: '最大值'},\r\n                      {type: 'min', name: '最小值'}\r\n                  ]\r\n              },\r\n              markLine: {\r\n                  data: [\r\n                      {type: 'average', name: '平均值'}\r\n                  ]\r\n              }\r\n          }]\r\n        this.chart=this.initChart(this.$refs.holiday,this.chartData)\r\n        })\r\n      )\r\n  \r\n    },\r\n    reSet(){\r\n      this.chartChange()\r\n      this.timeRange=[this.$moment().startOf('year'),this.$moment()]\r\n      this.marketName='万达'\r\n\r\n    }\r\n  },\r\n  mounted(){\r\n    const that = this\r\n        window.onresize = () => {\r\n        return (() => {\r\n            window.screenWidth = document.body.clientWidth\r\n            that.screenWidth = window.screenWidth\r\n        })()\r\n        }\r\n    this.timeRange=[this.$moment().startOf('year'),this.$moment()]\r\n    let start=this.$moment(this.timeRange[0]).startOf('year').format('YYYY')\r\n    let end=this.$moment(this.timeRange[1]).startOf('year').format('YYYY')\r\n    let axiosArr=[]\r\n    \r\n    axios.all([])\r\n    for(start;start<=end;start++){\r\n      axiosArr.push(axios(`https://api.apihubs.cn/holiday/get?year=${start}&holiday=22,11,44,55,66,77,88,97&cn=1&size=33`))\r\n    }\r\n    axiosArr.push(axios(`https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getHoliday?lg=${this.timeIntval(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD')).length}`))\r\n    axios.all(axiosArr).then(\r\n      axios.spread((...res)=>{\r\n        let data=res[1].data.list\r\n        let allDate=this.timeIntval(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD'))\r\n        let propsName=''\r\n        if(this.indexName=='客流量'){\r\n                propsName='flow'\r\n              }else if(this.indexName=='集客力'){\r\n                propsName='getPower'\r\n              }else if(this.indexName=='提袋率'){\r\n                propsName='rate'\r\n              }else if(this.indexName=='游逛深度'){\r\n                propsName='deep'\r\n              }\r\n        let holidayData=res[0].data.data.list\r\n        let holidayName=[]\r\n        let holidayValue=[]\r\n        holidayData.map(item=>{\r\n          if(this.$moment(item.date,'YYYYMMDD').isBetween(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD'),'day','[]')){\r\n            if(holidayName.indexOf(item.holiday_cn)!=-1){\r\n              holidayValue[holidayName.indexOf(item.holiday_cn)]+=data[propsName][allDate.indexOf(this.$moment(item.date,'YYYYMMDD').format('YYYY-MM-DD'))]\r\n            }else{\r\n              holidayName.push(item.holiday_cn)\r\n              holidayValue.push(data[propsName][allDate.indexOf(this.$moment(item.date,'YYYYMMDD').format('YYYY-MM-DD'))])\r\n            }\r\n          }\r\n        })\r\n      let totalWeekend=0\r\n      for(let i=0;i<allDate.length;i++){\r\n        if(this.$moment(allDate[i]).isoWeekday()==6||this.$moment(allDate[i]).isoWeekday()==7){\r\n          totalWeekend+=data[propsName][i]\r\n        }\r\n      }\r\n      if(totalWeekend!=0){\r\n        holidayName.push('周末')\r\n        holidayValue.push(totalWeekend)\r\n      }\r\n      let start=this.$moment(this.timeRange[0]).startOf('year').format('YYYY')\r\n      let end=this.$moment(this.timeRange[1]).startOf('year').format('YYYY')\r\n      for(let i=start;i<=end;i++){\r\n        if(this.$moment(this.$moment(i).year()+`-11-11`).isBetween(this.$moment(this.timeRange[0]).format('YYYY-MM-DD'),this.$moment(this.timeRange[1]).format('YYYY-MM-DD'),'day','[]')){\r\n          holidayName.push('双十一')\r\n          holidayValue.push(data[propsName][allDate.indexOf(this.$moment(this.$moment(i).year()+`-11-11`).format('YYYY-MM-DD'))])\r\n        }\r\n      }\r\n      this.holidayName=holidayName\r\n      this.chartData=[{\r\n            name: '节假日',\r\n            type: 'bar',\r\n            data: holidayValue,\r\n            markPoint: {\r\n                data: [\r\n                    {type: 'max', name: '最大值'},\r\n                    {type: 'min', name: '最小值'}\r\n                ]\r\n            },\r\n            markLine: {\r\n                data: [\r\n                    {type: 'average', name: '平均值'}\r\n                ]\r\n            }\r\n        }]\r\n      this.chart=this.initChart(this.$refs.holiday,this.chartData)\r\n      })\r\n    )\r\n  },\r\n  watch:{ \r\n    screenWidth(val){\r\n        // 为了避免频繁触发resize函数导致页面卡顿，使用定时器\r\n        if(!this.timer){\r\n            // 一旦监听到的screenWidth值改变，就将其重新赋给data里的screenWidth\r\n            this.screenWidth = val\r\n            this.timer = true\r\n            let that = this\r\n            setTimeout(function(){\r\n                // 打印screenWidth变化的值\r\n                this.chart.resize()\r\n                that.timer = false\r\n            },400)\r\n        }\r\n      \r\n    },\r\n    indexName(){\r\n      this.chartChange()\r\n    },\r\n    marketName(){\r\n      this.chartChange()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .borderSet{\r\n    /* border-right: 2px solid black; */\r\n    border-left: 2px solid #C0C4CC;\r\n  }\r\n  .flexCenter{\r\n    display: flex;\r\n    align-items: center; /*垂直方向居中*/\r\n    justify-content: space-around;  /*水平方向居中*/\r\n    /* flex-wrap: wrap; */\r\n  }\r\n  .flexJus{\r\n    display: flex;\r\n    justify-content: space-around;  /*水平方向居中*/\r\n  }\r\n .card-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n  }\r\n  .card-header span{\r\n    font-size: 20px;\r\n    font-weight: bolder;\r\n  }\r\n  .fontSet{\r\n     font-size: 18px;\r\n    font-weight: bolder;\r\n  }\r\n</style>","import { render } from \"./HolidayRanking.vue?vue&type=template&id=74554d63&scoped=true\"\nimport script from \"./HolidayRanking.vue?vue&type=script&lang=js\"\nexport * from \"./HolidayRanking.vue?vue&type=script&lang=js\"\n\nimport \"./HolidayRanking.vue?vue&type=style&index=0&id=74554d63&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-74554d63\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HolidayRanking.vue?vue&type=style&index=0&id=74554d63&scoped=true&lang=css\"","// 指标选择框\r\n<template>\r\n  <div>\r\n    <span id='text'>指标名称:</span> \r\n            <el-select v-model=\"indexValue\" placeholder=\"请选择\" :style='widthSet' @change=\"submitIndex\"  filterable>\r\n              <el-option\r\n                v-for=\"item in indexSet\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n  </div>\r\n  \r\n</template>\r\n<script>\r\nexport default { \r\n  props:['indexSet'],\r\n  data(){\r\n    return {\r\n      indexValue:'客流量',//选择的指标\r\n      indexList:[],//指标列表\r\n      textWidth:''\r\n\r\n    }\r\n  },\r\n  components:{\r\n\r\n  },\r\n  mounted(){\r\n      this.textWidth=document.getElementById('text').offsetWidth\r\n  },\r\n  methods:{\r\n    submitIndex(val){\r\n      this.$emit('indexGet',val)\r\n    }\r\n  },\r\n  computed:{\r\n    widthSet(){\r\n      return `width:calc(90% - ${this.textWidth}px);`\r\n    }\r\n  },\r\n  watch:{\r\n    indexSet(val){\r\n      this.indexValue=val\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./IndexSelect.vue?vue&type=template&id=3b9da70c&scoped=true\"\nimport script from \"./IndexSelect.vue?vue&type=script&lang=js\"\nexport * from \"./IndexSelect.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-3b9da70c\"\n\nexport default script"],"sourceRoot":""}