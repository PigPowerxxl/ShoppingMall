(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68502afa"],{"5eef":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("fb6a");var l=a("7a23"),o=Object(l["withScopeId"])("data-v-522c3ab0");Object(l["pushScopeId"])("data-v-522c3ab0");var n={class:"container"},r={class:"handle-box"},c=Object(l["createTextVNode"])("搜索"),d=Object(l["createTextVNode"])("添加角色"),i=Object(l["createTextVNode"])("导出"),u=Object(l["createTextVNode"])(Object(l["toDisplayString"])("删除")),s={class:"pagination "},b={class:"dialog-footer"},h=Object(l["createTextVNode"])("取 消"),m=Object(l["createTextVNode"])("确 定"),p={class:"dialog-footer"},f=Object(l["createTextVNode"])("取 消"),V=Object(l["createTextVNode"])("确 定");Object(l["popScopeId"])();var j=o((function(e,t,a,j,O,N){var g=Object(l["resolveComponent"])("crumbs"),v=Object(l["resolveComponent"])("el-option"),C=Object(l["resolveComponent"])("el-select"),S=Object(l["resolveComponent"])("el-input"),y=Object(l["resolveComponent"])("el-button"),k=Object(l["resolveComponent"])("export-excel"),D=Object(l["resolveComponent"])("el-table-column"),x=Object(l["resolveComponent"])("el-table"),_=Object(l["resolveComponent"])("el-pagination"),w=Object(l["resolveComponent"])("el-form-item"),T=Object(l["resolveComponent"])("el-form"),F=Object(l["resolveComponent"])("el-dialog");return Object(l["openBlock"])(),Object(l["createBlock"])("div",null,[Object(l["createVNode"])(g,{menu:"系统管理",subMenu:"角色管理"}),Object(l["createVNode"])("div",n,[Object(l["createVNode"])("div",r,[Object(l["createVNode"])(C,{modelValue:O.query.role,"onUpdate:modelValue":t[1]||(t[1]=function(e){return O.query.role=e}),placeholder:"用户角色",class:"handle-select mr10"},{default:o((function(){return[Object(l["createVNode"])(v,{key:"1",label:"商场用户",value:"商场用户"}),Object(l["createVNode"])(v,{key:"2",label:"集团用户",value:"集团用户"}),Object(l["createVNode"])(v,{key:"3",label:"店铺用户",value:"店铺用户"}),Object(l["createVNode"])(v,{key:"4",label:"普通用户",value:"普通用户"})]})),_:1},8,["modelValue"]),Object(l["createVNode"])(S,{modelValue:O.query.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.query.name=e}),placeholder:"用户名",class:"handle-input mr10"},null,8,["modelValue"]),Object(l["createVNode"])(y,{type:"primary",icon:"el-icon-search",onClick:N.handleSearch},{default:o((function(){return[c]})),_:1},8,["onClick"]),Object(l["createVNode"])(y,{type:"primary",icon:"el-icon-search",onClick:N.handleAdd},{default:o((function(){return[d]})),_:1},8,["onClick"]),Object(l["createVNode"])(k,{"file-name":"数据",header:["ID","用户名","角色类型","真实姓名","注册时间","所属商场"],"filter-filed":["id","name","role","trueName","date","shop"],data:O.showTableData},{default:o((function(){return[i]})),_:1},8,["data"])]),Object(l["createVNode"])(x,{data:O.showTableData.slice((O.currentPage-1)*O.pagesize,O.currentPage*O.pagesize),border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:N.handleSelectionChange},{default:o((function(){return[Object(l["createVNode"])(D,{prop:"id",label:"ID",width:"55",align:"center"}),Object(l["createVNode"])(D,{prop:"name",label:"用户名"}),Object(l["createVNode"])(D,{label:"角色类型"},{default:o((function(e){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.row.role),1)]})),_:1}),Object(l["createVNode"])(D,{prop:"trueName",label:"真实姓名"}),Object(l["createVNode"])(D,{prop:"date",label:"注册时间"}),Object(l["createVNode"])(D,{label:"所属商场",align:"center"},{default:o((function(e){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.row.shop),1)]})),_:1}),Object(l["createVNode"])(D,{label:"操作",width:"180",align:"center"},{default:o((function(e){return[Object(l["createVNode"])(y,{type:"text",icon:"el-icon-delete",class:"red",onClick:function(t){return N.handleDelete(e.$index,e.row)}},{default:o((function(){return[u]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","onSelectionChange"]),Object(l["createVNode"])("div",s,[Object(l["createVNode"])(_,{onSizeChange:N.handleSizeChange,onCurrentChange:N.handleCurrentChange,"page-sizes":[2,5,10],"page-size":O.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:O.total},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]),Object(l["createVNode"])(F,{title:"编辑",modelValue:O.editVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return O.editVisible=e}),width:"30%"},{footer:o((function(){return[Object(l["createVNode"])("span",b,[Object(l["createVNode"])(y,{onClick:t[6]||(t[6]=function(e){return O.editVisible=!1})},{default:o((function(){return[h]})),_:1}),Object(l["createVNode"])(y,{type:"primary",onClick:N.saveEdit},{default:o((function(){return[m]})),_:1},8,["onClick"])])]})),default:o((function(){return[Object(l["createVNode"])(T,{ref:"form",model:O.form,"label-width":"70px"},{default:o((function(){return[Object(l["createVNode"])(w,{label:"用户名"},{default:o((function(){return[Object(l["createVNode"])(S,{modelValue:O.form.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.form.name=e})},null,8,["modelValue"])]})),_:1}),Object(l["createVNode"])(w,{label:"真实姓名"},{default:o((function(){return[Object(l["createVNode"])(S,{modelValue:O.form.trueName,"onUpdate:modelValue":t[4]||(t[4]=function(e){return O.form.trueName=e})},null,8,["modelValue"])]})),_:1}),Object(l["createVNode"])(w,{label:"所属商场"},{default:o((function(){return[Object(l["createVNode"])(C,{modelValue:O.shopSelect,"onUpdate:modelValue":t[5]||(t[5]=function(e){return O.shopSelect=e}),filterable:"",placeholder:O.suoshushangchang},{default:o((function(){return[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(O.shopList,(function(e){return Object(l["openBlock"])(),Object(l["createBlock"])(v,{key:e.value,label:e.label,value:e.label,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"]),Object(l["createVNode"])(F,{title:"添加角色",modelValue:O.addVisible,"onUpdate:modelValue":t[13]||(t[13]=function(e){return O.addVisible=e}),width:"30%"},{footer:o((function(){return[Object(l["createVNode"])("span",p,[Object(l["createVNode"])(y,{onClick:t[12]||(t[12]=function(e){return O.addVisible=!1})},{default:o((function(){return[f]})),_:1}),Object(l["createVNode"])(y,{type:"primary",onClick:N.saveAdd},{default:o((function(){return[V]})),_:1},8,["onClick"])])]})),default:o((function(){return[Object(l["createVNode"])(T,{ref:"addForm",model:O.addForm,"label-width":"70px"},{default:o((function(){return[Object(l["createVNode"])(w,{label:"用户名"},{default:o((function(){return[Object(l["createVNode"])(S,{modelValue:O.addForm.name,"onUpdate:modelValue":t[8]||(t[8]=function(e){return O.addForm.name=e})},null,8,["modelValue"])]})),_:1}),Object(l["createVNode"])(w,{label:"真实姓名"},{default:o((function(){return[Object(l["createVNode"])(S,{modelValue:O.addForm.trueName,"onUpdate:modelValue":t[9]||(t[9]=function(e){return O.addForm.trueName=e})},null,8,["modelValue"])]})),_:1}),Object(l["createVNode"])(w,{label:"所属商场"},{default:o((function(){return[Object(l["createVNode"])(C,{modelValue:O.addForm.shopSelect,"onUpdate:modelValue":t[10]||(t[10]=function(e){return O.addForm.shopSelect=e}),filterable:"",placeholder:e.请输入},{default:o((function(){return[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(O.shopList,(function(e){return Object(l["openBlock"])(),Object(l["createBlock"])(v,{key:e.value,label:e.label,value:e.label,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1}),Object(l["createVNode"])(w,{label:"角色类型"},{default:o((function(){return[Object(l["createVNode"])(C,{modelValue:O.addForm.roleSelect,"onUpdate:modelValue":t[11]||(t[11]=function(e){return O.addForm.roleSelect=e}),filterable:""},{default:o((function(){return[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(O.roleList,(function(e){return Object(l["openBlock"])(),Object(l["createBlock"])(v,{key:e.value,label:e.label,value:e.label,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])})),O=(a("159b"),a("a434"),a("99af"),a("a7c0")),N=a("00fe"),g={name:"userManagement",data:function(){return{query:{role:"",name:"",pageIndex:1,pageSize:8},tableData:[{id:1,name:"张三",role:"系统管理员",trueName:"张清芳",state:"正常",date:"2019-11-1",shop:"高级管理员"},{id:2,name:"李四",role:"集团用户",trueName:"李云龙",state:"正常",date:"2019-10-11",shop:"M+购物广场"},{id:3,name:"王五",role:"集团用户",trueName:"王闰法",state:"锁定",date:"2019-11-11",shop:"时代商场"},{id:4,name:"赵六",role:"集团用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"时代商场"},{id:4,name:"赵六",role:"商场用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"},{id:4,name:"赵六",role:"商场用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中商百货"},{id:4,name:"赵六",role:"店铺用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"},{id:4,name:"赵六",role:"店铺用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中商百货"},{id:4,name:"赵六",role:"普通用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"},{id:4,name:"赵六",role:"普通用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"}],shopList:[{value:"0",label:"高级管理员",disabled:!0},{value:"qggc",label:"群光广场"},{value:"M+",label:"M+购物广场"},{value:"ytcyc",label:"银泰创意城"},{value:"sdgc",label:"时代商场"},{value:"zbcc",label:"中百仓储"},{value:"zsbh",label:"中商百货"}],roleList:[{value:"0",label:"高级管理员",disabled:!0},{value:"1",label:"普通用户"},{value:"2",label:"集团用户"},{value:"3",label:"商场用户"},{value:"4",label:"店铺用户"}],showTableData:[{id:1,name:"张三",role:"系统管理员",trueName:"张清芳",state:"正常",date:"2019-11-1",shop:"高级管理员"},{id:2,name:"李四",role:"集团用户",trueName:"李云龙",state:"正常",date:"2019-10-11",shop:"M+购物广场"},{id:3,name:"王五",role:"集团用户",trueName:"王闰法",state:"锁定",date:"2019-11-11",shop:"时代商场"},{id:4,name:"赵六",role:"集团用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"时代商场"},{id:4,name:"赵六",role:"商场用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"},{id:4,name:"赵六",role:"商场用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中商百货"},{id:4,name:"赵六",role:"店铺用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"},{id:4,name:"赵六",role:"店铺用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中商百货"},{id:4,name:"赵六",role:"普通用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"},{id:4,name:"赵六",role:"普通用户",trueName:"赵紫阳",state:"正常",date:"2019-10-20",shop:"中百仓储"}],searchTableData:[],shopSelect:"",roleSelect:"",multipleSelection:[],delList:[],editVisible:!1,addVisible:!1,pageTotal:8,form:{},addForm:{name:"",trueName:"",shopSelect:"",roleSelect:""},idx:-1,id:-1,suoshushangchang:"",currentPage:1,pagesize:5,total:0}},mounted:function(){this.total=this.showTableData.length},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},handleSearch:function(){var e=this;this.tableData.forEach((function(t){console.log(1,t.role,2,e.query.role),t.role!=e.query.role&&""!=e.query.role||t.name!=e.query.name&&""!=e.query.name||e.searchTableData.push(t)})),0!=e.searchTableData.length?(e.showTableData=e.searchTableData,e.searchTableData=[]):e.$message.error("没有查询到记录")},handleAdd:function(){this.addVisible=!0},saveAdd:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();console.log(this.addForm.name,t,this.roleSelect,this.addForm.shopSelect);var a=this.showTableData;a.push({id:11,name:this.addForm.name,role:this.addForm.roleSelect,trueName:this.addForm.trueName,state:"正常",date:t,shop:this.addForm.shopSelect}),this.showTableData=a,this.TableData=a,this.searchTableData=a,this.total=this.total+1,this.addVisible=!1,this.$message.success("成功添加一个用户")},handleDelete:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){t.$message.success("删除成功"),t.tableData.splice(e,1),t.showTableData.splice(e,1),t.total=t.total-1})).catch((function(){}))},handleSelectionChange:function(e){this.multipleSelection=e},delAllSelection:function(){var e=this.multipleSelection.length,t="";this.delList=this.delList.concat(this.multipleSelection);for(var a=0;a<e;a++)t+=this.multipleSelection[a].name+" ";this.$message.error("删除了".concat(t)),this.multipleSelection=[]},handleEdit:function(e,t){this.suoshushangchang=t.shop,this.idx=e+this.pagesize*(this.currentPage-1),console.log(111,this.pagesize*(this.currentPage-1)),this.form=t,this.editVisible=!0},saveEdit:function(){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),console.log(this.tableData[this.idx].shop,this.shopSelect),this.tableData[this.idx].shop=this.shopSelect,this.showTableData[this.idx].shop=this.shopSelect},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}},components:{crumbs:N["a"],ExportExcel:O["a"]}};a("aec2");g.render=j,g.__scopeId="data-v-522c3ab0";t["default"]=g},6530:function(e,t,a){},aec2:function(e,t,a){"use strict";a("6530")},fb6a:function(e,t,a){"use strict";var l=a("23e7"),o=a("861d"),n=a("e8b5"),r=a("23cb"),c=a("50c4"),d=a("fc6a"),i=a("8418"),u=a("b622"),s=a("1dde"),b=s("slice"),h=u("species"),m=[].slice,p=Math.max;l({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var a,l,u,s=d(this),b=c(s.length),f=r(e,b),V=r(void 0===t?b:t,b);if(n(s)&&(a=s.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[h],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return m.call(s,f,V);for(l=new(void 0===a?Array:a)(p(V-f,0)),u=0;f<V;f++,u++)f in s&&i(l,u,s[f]);return l.length=u,l}})}}]);
//# sourceMappingURL=chunk-68502afa.83e0a482.js.map