(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"057f":function(e,t,a){var r=a("fc6a"),o=a("241c").f,n={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==n.call(e)?c(e):o(r(e))}},"13d5":function(e,t,a){"use strict";var r=a("23e7"),o=a("d58f").left,n=a("a640"),i=a("2d00"),c=a("605d"),l=n("reduce"),s=!c&&i>79&&i<83;r({target:"Array",proto:!0,forced:!l||s},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var r=a("ade3");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"6ce8":function(e,t,a){},7159:function(e,t,a){e.exports=a.p+"img/img.146655c9.jpg"},7277:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),o=a("7159"),n=a.n(o),i=Object(r["withScopeId"])("data-v-c95dc390");Object(r["pushScopeId"])("data-v-c95dc390");var c={class:"user-info"},l=Object(r["createVNode"])("img",{src:n.a,class:"user-avator",alt:""},null,-1),s={class:"user-info-cont"},d={class:"user-info-name"},u=Object(r["createVNode"])("div",{class:"user-info-list"},[Object(r["createTextVNode"])(" 上次登录时间： "),Object(r["createVNode"])("span",null,"2019-11-01")],-1),f=Object(r["createVNode"])("div",{class:"user-info-list"},[Object(r["createTextVNode"])(" 上次登录地点： "),Object(r["createVNode"])("span",null,"东莞")],-1),h=Object(r["createVNode"])("div",{class:"clearfix"},[Object(r["createVNode"])("span",null,"语言详情")],-1),b=Object(r["createTextVNode"])(" Vue "),m=Object(r["createTextVNode"])("JavaScript "),p=Object(r["createTextVNode"])("CSS "),g=Object(r["createTextVNode"])("HTML "),v=Object(r["createVNode"])("div",{class:"grid-content grid-con-1"},[Object(r["createVNode"])("i",{class:"el-icon-user-solid grid-con-icon"}),Object(r["createVNode"])("div",{class:"grid-cont-right"},[Object(r["createVNode"])("div",{class:"grid-num"},"1234"),Object(r["createVNode"])("div",null,"用户访问量")])],-1),O=Object(r["createVNode"])("div",{class:"grid-content grid-con-2"},[Object(r["createVNode"])("i",{class:"el-icon-message-solid grid-con-icon"}),Object(r["createVNode"])("div",{class:"grid-cont-right"},[Object(r["createVNode"])("div",{class:"grid-num"},"321"),Object(r["createVNode"])("div",null,"系统消息")])],-1),j=Object(r["createVNode"])("div",{class:"grid-content grid-con-3"},[Object(r["createVNode"])("i",{class:"el-icon-s-goods grid-con-icon"}),Object(r["createVNode"])("div",{class:"grid-cont-right"},[Object(r["createVNode"])("div",{class:"grid-num"},"5000"),Object(r["createVNode"])("div",null,"数量")])],-1),y={class:"clearfix"},V=Object(r["createVNode"])("span",null,"待办事项",-1),N=Object(r["createTextVNode"])("添加"),x=Object(r["createVNode"])("template",null,[Object(r["createVNode"])("i",{class:"el-icon-edit"}),Object(r["createVNode"])("i",{class:"el-icon-delete"})],-1);Object(r["popScopeId"])();var w=i((function(e,t,a,o,n,w){var k=Object(r["resolveComponent"])("el-card"),T=Object(r["resolveComponent"])("el-progress"),C=Object(r["resolveComponent"])("el-col"),S=Object(r["resolveComponent"])("el-row"),_=Object(r["resolveComponent"])("el-button"),P=Object(r["resolveComponent"])("el-checkbox"),L=Object(r["resolveComponent"])("el-table-column"),D=Object(r["resolveComponent"])("el-table"),M=Object(r["resolveComponent"])("schart");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(S,{gutter:20},{default:i((function(){return[Object(r["createVNode"])(C,{span:8},{default:i((function(){return[Object(r["createVNode"])(k,{shadow:"hover",class:"mgb20",style:{height:"252px"}},{default:i((function(){return[Object(r["createVNode"])("div",c,[l,Object(r["createVNode"])("div",s,[Object(r["createVNode"])("div",d,Object(r["toDisplayString"])(n.name),1),Object(r["createVNode"])("div",null,Object(r["toDisplayString"])(w.role),1)])]),u,f]})),_:1}),Object(r["createVNode"])(k,{shadow:"hover",style:{height:"252px"}},{header:i((function(){return[h]})),default:i((function(){return[b,Object(r["createVNode"])(T,{percentage:71.3,color:"#42b983"},null,8,["percentage"]),m,Object(r["createVNode"])(T,{percentage:24.1,color:"#f1e05a"},null,8,["percentage"]),p,Object(r["createVNode"])(T,{percentage:13.7},null,8,["percentage"]),g,Object(r["createVNode"])(T,{percentage:5.9,color:"#f56c6c"},null,8,["percentage"])]})),_:1})]})),_:1}),Object(r["createVNode"])(C,{span:16},{default:i((function(){return[Object(r["createVNode"])(S,{gutter:20,class:"mgb20"},{default:i((function(){return[Object(r["createVNode"])(C,{span:8},{default:i((function(){return[Object(r["createVNode"])(k,{shadow:"hover","body-style":{padding:"0px"}},{default:i((function(){return[v]})),_:1})]})),_:1}),Object(r["createVNode"])(C,{span:8},{default:i((function(){return[Object(r["createVNode"])(k,{shadow:"hover","body-style":{padding:"0px"}},{default:i((function(){return[O]})),_:1})]})),_:1}),Object(r["createVNode"])(C,{span:8},{default:i((function(){return[Object(r["createVNode"])(k,{shadow:"hover","body-style":{padding:"0px"}},{default:i((function(){return[j]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(k,{shadow:"hover",style:{height:"403px"}},{header:i((function(){return[Object(r["createVNode"])("div",y,[V,Object(r["createVNode"])(_,{style:{float:"right",padding:"3px 0"},type:"text"},{default:i((function(){return[N]})),_:1})])]})),default:i((function(){return[Object(r["createVNode"])(D,{"show-header":!1,data:n.todoList,style:{width:"100%"}},{default:i((function(){return[Object(r["createVNode"])(L,{width:"40"},{default:i((function(e){return[Object(r["createVNode"])(P,{modelValue:e.row.status,"onUpdate:modelValue":function(t){return e.row.status=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r["createVNode"])(L,null,{default:i((function(e){return[Object(r["createVNode"])("div",{class:["todo-item",{"todo-item-del":e.row.status}]},Object(r["toDisplayString"])(e.row.title),3)]})),_:1}),Object(r["createVNode"])(L,{width:"60"},{default:i((function(){return[x]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(S,{gutter:20},{default:i((function(){return[Object(r["createVNode"])(C,{span:12},{default:i((function(){return[Object(r["createVNode"])(k,{shadow:"hover"},{default:i((function(){return[Object(r["createVNode"])(M,{ref:"bar",class:"schart",canvasId:"bar",options:n.options},null,8,["options"])]})),_:1})]})),_:1}),Object(r["createVNode"])(C,{span:12},{default:i((function(){return[Object(r["createVNode"])(k,{shadow:"hover"},{default:i((function(){return[Object(r["createVNode"])(M,{ref:"line",class:"schart",canvasId:"line",options:n.options2},null,8,["options"])]})),_:1})]})),_:1})]})),_:1})])})),k=(a("159b"),a("99af"),a("f5ac")),T={name:"dashboard",data:function(){return{name:localStorage.getItem("ms_username"),todoList:[{title:"今天要修复100个bug",status:!1},{title:"今天要修复100个bug",status:!1},{title:"今天要写100行代码加几个bug吧",status:!1},{title:"今天要修复100个bug",status:!1},{title:"今天要修复100个bug",status:!0},{title:"今天要写100行代码加几个bug吧",status:!0}],data:[{name:"2018/09/04",value:1083},{name:"2018/09/05",value:941},{name:"2018/09/06",value:1139},{name:"2018/09/07",value:816},{name:"2018/09/08",value:327},{name:"2018/09/09",value:228},{name:"2018/09/10",value:1065}],options:{type:"bar",title:{text:"最近一周各品类销售图"},xRorate:25,labels:["周一","周二","周三","周四","周五"],datasets:[{label:"家电",data:[234,278,270,190,230]},{label:"百货",data:[164,178,190,135,160]},{label:"食品",data:[144,198,150,235,120]}]},options2:{type:"line",title:{text:"最近几个月各品类销售趋势图"},labels:["6月","7月","8月","9月","10月"],datasets:[{label:"家电",data:[234,278,270,190,230]},{label:"百货",data:[164,178,150,135,160]},{label:"食品",data:[74,118,200,235,90]}]}}},components:{Schart:k["a"]},computed:{role:function(){return"admin"===this.name?"超级管理员":"普通用户"}},methods:{changeDate:function(){var e=(new Date).getTime();this.data.forEach((function(t,a){var r=new Date(e-864e5*(6-a));t.name="".concat(r.getFullYear(),"/").concat(r.getMonth()+1,"/").concat(r.getDate())}))}}};a("8189");T.render=w,T.__scopeId="data-v-c95dc390";t["default"]=T},"72cc":function(e,t,a){},"746f":function(e,t,a){var r=a("428f"),o=a("5135"),n=a("e5383"),i=a("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||i(t,e,{value:n.f(e)})}},"75ab":function(e,t,a){},"7ad5":function(e,t,a){"use strict";a("72cc")},"7b9a":function(e,t,a){"use strict";a.r(t);a("fb6a");var r=a("7a23"),o=Object(r["withScopeId"])("data-v-3b1d8644");Object(r["pushScopeId"])("data-v-3b1d8644");var n={class:" container sql"},i=Object(r["createTextVNode"])(" 指标名称: "),c=Object(r["createTextVNode"])(" 区域分类: "),l=Object(r["createTextVNode"])("查询"),s=Object(r["createTextVNode"])("重置"),d={class:"pagination flexCenter"};Object(r["popScopeId"])();var u=o((function(e,t,a,u,f,h){var b=Object(r["resolveComponent"])("crumbs"),m=Object(r["resolveComponent"])("market"),p=Object(r["resolveComponent"])("el-col"),g=Object(r["resolveComponent"])("el-option"),v=Object(r["resolveComponent"])("el-select"),O=Object(r["resolveComponent"])("el-button"),j=Object(r["resolveComponent"])("el-row"),y=Object(r["resolveComponent"])("el-table-column"),V=Object(r["resolveComponent"])("el-table"),N=Object(r["resolveComponent"])("el-pagination"),x=Object(r["resolveComponent"])("el-card");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])(b,{menu:"实时数据",subMenu:"实时指标排行"}),Object(r["createVNode"])("div",n,[Object(r["createVNode"])(j,{type:"flex",justify:"space-around"},{default:o((function(){return[Object(r["createVNode"])(p,{span:6},{default:o((function(){return[Object(r["createVNode"])(m,{onMarketGet:h.marketGet,marketSet:f.marketName},null,8,["onMarketGet","marketSet"])]})),_:1}),Object(r["createVNode"])(p,{span:6},{default:o((function(){return[i,Object(r["createVNode"])(v,{modelValue:f.indexName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.indexName=e}),placeholder:"请选择",filterable:""},{default:o((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(f.indexType,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(g,{label:e.key,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(p,{span:6},{default:o((function(){return[c,Object(r["createVNode"])(v,{modelValue:f.areaName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.areaName=e}),placeholder:"请选择",filterable:""},{default:o((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(f.regionType,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(g,{label:e.key,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(p,{span:6},{default:o((function(){return[Object(r["createVNode"])(O,{type:"primary",icon:"el-icon-search",onClick:h.onQuery},{default:o((function(){return[l]})),_:1},8,["onClick"]),Object(r["createVNode"])(O,{type:"primary",icon:"el-icon-refresh-right",onClick:h.reSet},{default:o((function(){return[s]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]),Object(r["createVNode"])(x,{class:"marginTop10",shadow:"hover"},{default:o((function(){return[Object(r["createVNode"])(j,null,{default:o((function(){return[Object(r["createVNode"])(V,{class:"font-set",data:f.tableData.slice((f.currentPage-1)*f.pagesize,f.currentPage*f.pagesize),style:{width:"100%","margin-bottom":"10px","margin-top":"10px","font-size":"9px"},border:"",onSortChange:h.sort_change,"current-page":f.currentPage,stripe:""},{default:o((function(){return[Object(r["createVNode"])(y,{prop:"rank",label:"排名",sortable:"",align:"center","min-width":"20%"}),Object(r["createVNode"])(y,{prop:"data",label:f.indexName,align:"center",sortable:"","min-width":"20%"},null,8,["label"]),Object(r["createVNode"])(y,{prop:"market",label:"商场",sortable:"",align:"center","min-width":"20%"}),Object(r["createVNode"])(y,{prop:"area",label:"区域",align:"center",sortable:"","min-width":"20%"})]})),_:1},8,["data","onSortChange","current-page"])]})),_:1}),Object(r["createVNode"])("div",d,[Object(r["createVNode"])(N,{class:"flexCenter",onSizeChange:h.handleSizeChange,onCurrentChange:h.handleCurrentChange,"page-sizes":[10],"page-size":f.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:f.tableData.length},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]})),_:1})])])})),f=(a("99af"),a("4de4"),a("00fe")),h=a("3660"),b=a("bc3a"),m=a.n(b),p={data:function(){return{indexName:"客流量",marketName:"万达",areaName:"全部",currentPage:1,pagesize:10,tableData:[],temList:[],indexType:[{key:"客流量",value:"客流量"},{key:"销售额",value:"销售额"}],regionType:[{key:"楼层",value:"楼层"},{key:"店铺",value:"店铺"},{key:"通道",value:"通道"},{key:"全部",value:"全部"}],formInline:{page:1,limit:10,machineNo:"",orderNo:"",transId:"",indexType:0,orderStatus:0,marketName:"",token:localStorage.getItem("logintoken")}}},components:{market:h["a"],crumbs:f["a"]},mounted:function(){var e=this;m()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/realtimeIndexRanking").then((function(t){console.log(t.data.list);for(var a=t.data.list.sort((function(e,t){return t.flow-e.flow})),r=0;r<a.length;r++)a[r].rank=r+1;for(var o=[],n=0;n<a.length;n++)o.push({rank:a[n].rank,data:a[n].flow,market:e.marketName,area:a[n].area});console.log(o),e.tableData=[].concat(o)}))},methods:{marketGet:function(e){this.marketName=e},sort_change:function(e){console.log(e),"ascending"==e.order?this.tableData.sort((function(t,a){return t[e.prop]-a[e.prop]})):"descending"==e.order?this.tableData.sort((function(t,a){return a[e.prop]-t[e.prop]})):this.tableData.sort((function(e,t){return e.rank-t.rank}))},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},onQuery:function(){var e=this;m()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/realtimeIndexRanking").then((function(t){var a=t.data.list;"全部"!=e.areaName&&(a=a.filter((function(t){return t.area==e.areaName}))),a="客流量"==e.indexName?a.sort((function(e,t){return t.flow-e.flow})):a.sort((function(e,t){return t.sale-e.sale}));for(var r=0;r<a.length;r++)a[r].rank=r+1;for(var o=[],n=0;n<a.length;n++)o.push({rank:a[n].rank,data:"客流量"==e.indexName?a[n].flow:a[n].sale,market:e.marketName,area:a[n].area});e.tableData=[].concat(o)}))},reSet:function(){this.indexName="客流量",this.areaName="全部",this.marketName="万达",this.onQuery()}}};a("eb17");p.render=u,p.__scopeId="data-v-3b1d8644";t["default"]=p},8189:function(e,t,a){"use strict";a("6ce8")},9039:function(e,t,a){},a4d3:function(e,t,a){"use strict";var r=a("23e7"),o=a("da84"),n=a("d066"),i=a("c430"),c=a("83ab"),l=a("4930"),s=a("fdbf"),d=a("d039"),u=a("5135"),f=a("e8b5"),h=a("861d"),b=a("825a"),m=a("7b0b"),p=a("fc6a"),g=a("c04e"),v=a("5c6c"),O=a("7c73"),j=a("df75"),y=a("241c"),V=a("057f"),N=a("7418"),x=a("06cf"),w=a("9bf2"),k=a("d1e7"),T=a("9112"),C=a("6eeb"),S=a("5692"),_=a("f772"),P=a("d012"),L=a("90e3"),D=a("b622"),M=a("e5383"),Y=a("746f"),I=a("d44e"),A=a("69f3"),W=a("b727").forEach,E=_("hidden"),B="Symbol",$="prototype",F=D("toPrimitive"),G=A.set,z=A.getterFor(B),q=Object[$],R=o.Symbol,U=n("JSON","stringify"),J=x.f,H=w.f,Q=V.f,X=k.f,Z=S("symbols"),K=S("op-symbols"),ee=S("string-to-symbol-registry"),te=S("symbol-to-string-registry"),ae=S("wks"),re=o.QObject,oe=!re||!re[$]||!re[$].findChild,ne=c&&d((function(){return 7!=O(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,a){var r=J(q,t);r&&delete q[t],H(e,t,a),r&&e!==q&&H(q,t,r)}:H,ie=function(e,t){var a=Z[e]=O(R[$]);return G(a,{type:B,tag:e,description:t}),c||(a.description=t),a},ce=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof R},le=function(e,t,a){e===q&&le(K,t,a),b(e);var r=g(t,!0);return b(a),u(Z,r)?(a.enumerable?(u(e,E)&&e[E][r]&&(e[E][r]=!1),a=O(a,{enumerable:v(0,!1)})):(u(e,E)||H(e,E,v(1,{})),e[E][r]=!0),ne(e,r,a)):H(e,r,a)},se=function(e,t){b(e);var a=p(t),r=j(a).concat(be(a));return W(r,(function(t){c&&!ue.call(a,t)||le(e,t,a[t])})),e},de=function(e,t){return void 0===t?O(e):se(O(e),t)},ue=function(e){var t=g(e,!0),a=X.call(this,t);return!(this===q&&u(Z,t)&&!u(K,t))&&(!(a||!u(this,t)||!u(Z,t)||u(this,E)&&this[E][t])||a)},fe=function(e,t){var a=p(e),r=g(t,!0);if(a!==q||!u(Z,r)||u(K,r)){var o=J(a,r);return!o||!u(Z,r)||u(a,E)&&a[E][r]||(o.enumerable=!0),o}},he=function(e){var t=Q(p(e)),a=[];return W(t,(function(e){u(Z,e)||u(P,e)||a.push(e)})),a},be=function(e){var t=e===q,a=Q(t?K:p(e)),r=[];return W(a,(function(e){!u(Z,e)||t&&!u(q,e)||r.push(Z[e])})),r};if(l||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),a=function(e){this===q&&a.call(K,e),u(this,E)&&u(this[E],t)&&(this[E][t]=!1),ne(this,t,v(1,e))};return c&&oe&&ne(q,t,{configurable:!0,set:a}),ie(t,e)},C(R[$],"toString",(function(){return z(this).tag})),C(R,"withoutSetter",(function(e){return ie(L(e),e)})),k.f=ue,w.f=le,x.f=fe,y.f=V.f=he,N.f=be,M.f=function(e){return ie(D(e),e)},c&&(H(R[$],"description",{configurable:!0,get:function(){return z(this).description}}),i||C(q,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:R}),W(j(ae),(function(e){Y(e)})),r({target:B,stat:!0,forced:!l},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var a=R(t);return ee[t]=a,te[a]=t,a},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:de,defineProperty:le,defineProperties:se,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:be}),r({target:"Object",stat:!0,forced:d((function(){N.f(1)}))},{getOwnPropertySymbols:function(e){return N.f(m(e))}}),U){var me=!l||d((function(){var e=R();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,a){var r,o=[e],n=1;while(arguments.length>n)o.push(arguments[n++]);if(r=t,(h(t)||void 0!==e)&&!ce(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ce(t))return t}),o[1]=t,U.apply(null,o)}})}R[$][F]||T(R[$],F,R[$].valueOf),I(R,B),P[E]=!0},ade3:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return r}))},b367:function(e,t,a){!function(t,a){e.exports=a()}(0,(function(){"use strict";function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=window.devicePixelRatio||1,r=10*a,o=r/2;return function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.canvas=function(e){var t=document.getElementById(e),r=t.parentNode.clientWidth,o=t.parentNode.clientHeight;return t.style.width=r+"px",t.style.height=o+"px",t.width=r*a,t.height=o*a,t}(e),this.ctx=this.canvas.getContext("2d"),this.type="bar",this.showValue=!0,this.showGrid=!0,this.topPadding=60*a,this.leftPadding=50*a,this.rightPadding=10*a,this.bottomPadding=50*a,this.yEqual=5,this.yLength=0,this.xLength=0,this.ySpace=0,this.xRorate=0,this.yRorate=0,this.bgColor="#fff",this.axisColor="#666",this.gridColor="#eee",this.title={text:"",color:"#666",position:"top",font:"bold "+18*a+"px Arial",top:r,bottom:o},this.legend={display:!0,position:"top",color:"#666",font:14*a+"px Arial",top:45*a,bottom:15*a,textWidth:0},this.radius=100*a,this.innerRadius=60*a,this.colorList=["#4A90E2","#F5A623","#ff5858","#5e64ff","#2AC766","#743ee2","#b554ff","#199475"],this.init(t)}return function(t,a,r){a&&e(t.prototype,a),r&&e(t,r)}(n,[{key:"init",value:function(e){if(e.title=Object.assign({},this.title,e.title),e.legend=Object.assign({},this.legend,e.legend),Object.assign(this,e),!e.labels||!e.labels.length)throw new Error("缺少主要参数labels");if(!e.datasets||!e.datasets.length)throw new Error("缺少主要参数datasets");this.drawBackground(),"bar"===this.type||"line"===this.type?this.renderBarChart():this.renderPieChart(),this.drawLegend()}},{key:"renderBarChart",value:function(){this.yLength=Math.floor((this.canvas.height-this.topPadding-this.bottomPadding-r)/this.yEqual),this.xLength=Math.floor((this.canvas.width-this.leftPadding-this.rightPadding-r)/this.labels.length),this.ySpace=function(e,a){var r=e.map((function(e){return e.data.reduce((function(e,t){return t<e?e:t}))})),o=Math.ceil(Math.max.apply(Math,t(r))/a),n=o.toString().length-1;return n=2<n?2:n,Math.ceil(o/Math.pow(10,n))*Math.pow(10,n)}(this.datasets,this.yEqual),this.drawXAxis(),this.drawYAxis(),this.drawBarContent()}},{key:"drawBarContent",value:function(){var e=this.ctx,t=this.datasets.length;e.beginPath();for(var n=0;n<t;n++){e.font=this.legend.font,this.legend.textWidth+=Math.ceil(e.measureText(this.datasets[n].label).width),e.fillStyle=e.strokeStyle=this.datasets[n].fillColor||this.colorList[n];for(var i=this.datasets[n].data,c=0;c<i.length;c++)if(!(c>this.labels.length-1)){var l=this.xLength/(t+1),s=this.yLength/this.ySpace,d=this.leftPadding+this.xLength*c+l*(n+.5),u=d+l,f=this.canvas.height-this.bottomPadding,h=f-i[c]*s;if("bar"===this.type)e.fillRect(d,h,u-d,f-h),this.drawValue(i[c],d+l/2,h-o);else if("line"===this.type){var b=this.leftPadding+this.xLength*(c+.5);e.beginPath(),e.arc(b,h,3*a,0,2*Math.PI,!0),e.fill(),0!==c&&(e.beginPath(),e.strokeStyle=this.datasets[n].fillColor||this.colorList[n],e.lineWidth=2*a,e.moveTo(b-this.xLength,f-i[c-1]*s),e.lineTo(b,h),e.stroke(),e.lineWidth=1*a),this.drawValue(i[c],b,h-r)}}}e.stroke()}},{key:"renderPieChart",value:function(){for(var e=this.ctx,t=this.labels.length,a=this.datasets[0],r=a.data,o=r.reduce((function(e,t){return e+t})),n=-Math.PI/2,i=this.canvas.width/2,c=this.canvas.height/2,l=0;l<t;l++){e.font=this.legend.font,this.legend.textWidth+=Math.ceil(e.measureText(this.labels[l]).width),e.beginPath(),e.strokeStyle=e.fillStyle=a.colorList&&a.colorList[l]||this.colorList[l],e.moveTo(i,c);var s=n,d=n+=r[l]/o*2*Math.PI;e.arc(i,c,this.radius,s,d),e.closePath(),e.fill();var u=(s+d)/2;this.drawPieValue(r[l],u)}"ring"===this.type&&(e.beginPath(),e.fillStyle=this.bgColor,e.arc(i,c,this.innerRadius,0,2*Math.PI),e.closePath(),e.fill())}},{key:"drawValue",value:function(e,t,r){var o=this.ctx;this.showValue&&(o.textBaseline="middle",o.font=12*a+"px Arial",o.textAlign="center",o.fillText(e,t,r))}},{key:"drawPieValue",value:function(e,t){var a=this.ctx;if(this.showValue){var o=this.canvas.width/2,n=this.canvas.height/2,i=Math.ceil(Math.abs(this.radius*Math.cos(t))),c=Math.floor(Math.abs(this.radius*Math.sin(t)));a.textBaseline="middle",this.showValue&&(t<=0?(a.textAlign="left",a.moveTo(o+i,n-c),a.lineTo(o+i+r,n-c-r),a.moveTo(o+i+r,n-c-r),a.lineTo(o+i+3*r,n-c-r),a.stroke(),a.fillText(e,o+i+3.5*r,n-c-r)):0<t&&t<=Math.PI/2?(a.textAlign="left",a.moveTo(o+i,n+c),a.lineTo(o+i+r,n+c+r),a.moveTo(o+i+r,n+c+r),a.lineTo(o+i+3*r,n+c+r),a.stroke(),a.fillText(e,o+i+3.5*r,n+c+r)):t>Math.PI/2&&t<Math.PI?(a.textAlign="right",a.moveTo(o-i,n+c),a.lineTo(o-i-r,n+c+r),a.moveTo(o-i-r,n+c+r),a.lineTo(o-i-3*r,n+c+r),a.stroke(),a.fillText(e,o-i-3.5*r,n+c+r)):(a.textAlign="right",a.moveTo(o-i,n-c),a.lineTo(o-i-r,n-c-r),a.moveTo(o-i-r,n-c-r),a.lineTo(o-i-3*r,n-c-r),a.stroke(),a.fillText(e,o-i-3.5*r,n-c-r)))}}},{key:"drawBackground",value:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawTitle()}},{key:"drawTitle",value:function(){var e=this.title;if(e.text){var t=this.ctx;t.beginPath(),t.font=e.font,t.textAlign="center",t.fillStyle=e.color,"top"===e.position?(t.textBaseline="top",t.fillText(e.text,this.canvas.width/2,e.top)):(t.textBaseline="bottom",t.fillText(e.text,this.canvas.width/2,this.canvas.height-e.bottom))}}},{key:"drawXAxis",value:function(){var e=this.ctx,t=this.canvas.height-this.bottomPadding+.5;e.beginPath(),e.strokeStyle=this.axisColor,e.moveTo(this.leftPadding,t),e.lineTo(this.canvas.width-this.rightPadding,t),e.stroke(),this.drawXPoint()}},{key:"drawXPoint",value:function(){var e=this.ctx;e.beginPath(),e.font=12*a+"px Microsoft YaHei",e.textAlign=this.xRorate?"right":"center",e.textBaseline="top",e.fillStyle=this.axisColor;for(var t=0;t<this.labels.length;t++){var n=this.labels[t],i=this.leftPadding+this.xLength*(t+1)+.5,c=this.canvas.height-this.bottomPadding;this.showGrid?(e.strokeStyle=this.gridColor,e.moveTo(i,c),e.lineTo(i,this.topPadding+r)):(e.moveTo(i,c),e.lineTo(i,c-o)),e.stroke(),e.save(),e.translate(i-this.xLength/2,c+o),e.rotate(-this.xRorate*Math.PI/180),e.fillText(n,0,0),e.restore()}}},{key:"drawYAxis",value:function(){var e=this.ctx;e.beginPath(),e.strokeStyle=this.axisColor,e.moveTo(this.leftPadding-.5,this.canvas.height-this.bottomPadding+.5),e.lineTo(this.leftPadding-.5,this.topPadding+.5),e.stroke(),this.drawYPoint()}},{key:"drawYPoint",value:function(){var e=this.ctx;e.font=12*a+"px Microsoft YaHei",e.textAlign="right",e.textBaseline="middle",e.beginPath();for(var t=0;t<this.yEqual;t++){var n=this.leftPadding,i=this.canvas.height-this.bottomPadding-this.yLength*(t+1)+.5;this.showGrid?(e.strokeStyle=this.gridColor,e.moveTo(n,i),e.lineTo(this.canvas.width-this.rightPadding-r,i)):(e.strokeStyle=this.axisColor,e.moveTo(n-o,i),e.lineTo(n,i)),e.stroke(),e.save(),e.fillStyle=this.axisColor,e.translate(n-r,i),e.rotate(-this.yRorate*Math.PI/180),e.fillText(this.ySpace*(t+1),0,0),e.restore()}}},{key:"drawLegend",value:function(){var e=this.legend;if(e.display){var t=this.ctx,a="pie"===this.type||"ring"===this.type;t.beginPath(),t.font=e.font,t.textAlign="left",t.textBaseline="middle";for(var n=a?this.labels.length:this.datasets.length,i=(this.canvas.width-(this.legend.textWidth+(5*n-2)*r))/2,c=0,l=0;l<n;l++){var s=a?this.datasets[0]:this.datasets[l],d=(a?this.labels[l]:s.label)||"";t.fillStyle=s.colorList&&s.colorList[l]||s.fillColor||this.colorList[l],"top"===e.position?(this.drawLegendIcon(i+5*r*l+c,e.top-o,2*r,r),t.fillStyle=e.color,t.fillText(d,i+(5*l+3)*r+c,e.top)):"bottom"===e.position?(this.drawLegendIcon(i+5*r*l+c,this.canvas.height-e.bottom-o,2*r,r),t.fillStyle=e.color,t.fillText(d,i+(5*l+3)*r+c,this.canvas.height-e.bottom)):(t.fillRect(r,e.top+2*r*l,2*r,r),t.fillStyle=e.color,t.fillText(d,4*r,e.top+2*r*l+.5*r)),c+=Math.ceil(t.measureText(d).width)}}}},{key:"drawLegendIcon",value:function(e,t,n,i){var c=this.ctx;"line"===this.type?(c.beginPath(),c.strokeStyle=c.fillStyle,c.lineWidth=2*a,c.moveTo(e,t+o),c.lineTo(e+2*r,t+o),c.stroke(),c.lineWidth=1*a,c.arc(e+r,t+o,3*a,0,2*Math.PI,!0),c.fill()):c.fillRect(e,t,n,i)}}]),n}()}))},b64b:function(e,t,a){var r=a("23e7"),o=a("7b0b"),n=a("df75"),i=a("d039"),c=i((function(){n(1)}));r({target:"Object",stat:!0,forced:c},{keys:function(e){return n(o(e))}})},c552:function(e,t,a){"use strict";a("9039")},d469:function(e,t,a){"use strict";a.r(t);a("d81d");var r=a("7a23"),o=Object(r["withScopeId"])("data-v-1b1c9b38");Object(r["pushScopeId"])("data-v-1b1c9b38");var n={class:" container sql"},i=Object(r["createTextVNode"])(" 选择日期: "),c=Object(r["createTextVNode"])("查询"),l=Object(r["createTextVNode"])("重置"),s=Object(r["createTextVNode"])("导出"),d={class:"allCard"},u={class:"grid-content grid-con-1"},f=Object(r["createVNode"])("i",{class:"el-icon-user-solid grid-con-icon"},null,-1),h={class:"grid-cont-right"},b={class:"grid-num"},m=Object(r["createVNode"])("div",null,"今日销售量",-1),p={class:"grid-content grid-con-2"},g=Object(r["createVNode"])("i",{class:"el-icon-message-solid grid-con-icon"},null,-1),v={class:"grid-cont-right"},O={class:"grid-num"},j=Object(r["createVNode"])("div",null,"当日销售量",-1),y={ref:"myEchart1",style:{height:"350px",width:"100%"}},V=Object(r["createTextVNode"])("确 定"),N=Object(r["createTextVNode"])("取 消");Object(r["popScopeId"])();var x=o((function(e,t,a,x,w,k){var T=Object(r["resolveComponent"])("crumbs"),C=Object(r["resolveComponent"])("market"),S=Object(r["resolveComponent"])("el-col"),_=Object(r["resolveComponent"])("el-date-picker"),P=Object(r["resolveComponent"])("el-button"),L=Object(r["resolveComponent"])("export-excel"),D=Object(r["resolveComponent"])("el-row"),M=Object(r["resolveComponent"])("el-card"),Y=Object(r["resolveComponent"])("el-form-item"),I=Object(r["resolveComponent"])("el-radio"),A=Object(r["resolveComponent"])("el-radio-group"),W=Object(r["resolveComponent"])("el-time-select"),E=Object(r["resolveComponent"])("el-form"),B=Object(r["resolveComponent"])("el-dialog");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(T,{menu:"实时数据",subMenu:"销售量"}),Object(r["createVNode"])("div",n,[Object(r["createVNode"])(D,{type:"flex",justify:"space-around"},{default:o((function(){return[Object(r["createVNode"])(S,{span:7},{default:o((function(){return[Object(r["createVNode"])(C,{onMarketGet:k.marketGet},null,8,["onMarketGet"])]})),_:1}),Object(r["createVNode"])(S,{span:7},{default:o((function(){return[i,Object(r["createVNode"])(_,{modelValue:w.timeValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.timeValue=e}),"value-format":"yyyy-MM-dd",align:"right",type:"date",placeholder:"选择日期","disabled-date":e.disabledDate,shortcuts:w.shortcuts},null,8,["modelValue","disabled-date","shortcuts"])]})),_:1}),Object(r["createVNode"])(S,{span:7},{default:o((function(){return[Object(r["createVNode"])(P,{type:"primary",icon:"el-icon-search",onClick:k.onSubmit},{default:o((function(){return[c]})),_:1},8,["onClick"]),Object(r["createVNode"])(P,{type:"primary",icon:"el-icon-refresh-right",onClick:k.reSet},{default:o((function(){return[l]})),_:1},8,["onClick"]),Object(r["createVNode"])(L,{"file-name":"销售数据",header:w.exportItem.map((function(e){return e.label})),"filter-filed":w.exportItem.map((function(e){return e.value})),data:w.exportTable},{default:o((function(){return[s]})),_:1},8,["header","filter-filed","data"])]})),_:1})]})),_:1})]),Object(r["createVNode"])("div",d,[Object(r["createVNode"])(D,{gutter:20,class:"mgb20"},{default:o((function(){return[Object(r["createVNode"])(S,{span:12},{default:o((function(){return[Object(r["createVNode"])(M,{shadow:"hover","body-style":{padding:"0px"}},{default:o((function(){return[Object(r["createVNode"])("div",u,[f,Object(r["createVNode"])("div",h,[Object(r["createVNode"])("div",b,Object(r["toDisplayString"])(w.chartList[0]),1),m])])]})),_:1})]})),_:1}),Object(r["createVNode"])(S,{span:12},{default:o((function(){return[Object(r["createVNode"])(M,{shadow:"hover","body-style":{padding:"0px"}},{default:o((function(){return[Object(r["createVNode"])("div",p,[g,Object(r["createVNode"])("div",v,[Object(r["createVNode"])("div",O,Object(r["toDisplayString"])(0==w.chartList[1]?"未选择对比时间":w.chartList[1]),1),j])])]})),_:1})]})),_:1})]})),_:1})]),Object(r["createVNode"])(M,{header:"销售量对比图",style:{"font-weight":"bold"}},{default:o((function(){return[Object(r["createVNode"])("div",y,null,512)]})),_:1}),Object(r["createVNode"])("div",null,[Object(r["createVNode"])(B,{title:"数据导出",modelValue:w.dialogFormVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return w.dialogFormVisible=e})},{footer:o((function(){return[Object(r["createVNode"])(P,{type:"primary",onClick:t[5]||(t[5]=function(e){return w.dialogFormVisible=!1})},{default:o((function(){return[V]})),_:1}),Object(r["createVNode"])(P,{onClick:t[6]||(t[6]=function(e){return w.dialogFormVisible=!1})},{default:o((function(){return[N]})),_:1})]})),default:o((function(){return[Object(r["createVNode"])(E,{model:w.form},{default:o((function(){return[Object(r["createVNode"])(Y,{label:"商场名称:","label-width":w.formLabelWidth},{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(w.marketName),1)]})),_:1},8,["label-width"]),Object(r["createVNode"])(Y,{label:"数据维度:","label-width":w.formLabelWidth},{default:o((function(){return[Object(r["createVNode"])(A,{modelValue:w.form.resource,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w.form.resource=e}),size:"medium"},{default:o((function(){return[Object(r["createVNode"])(I,{border:"",label:"当日数据导出"}),Object(r["createVNode"])(I,{border:"",label:"查询数据导出"}),Object(r["createVNode"])(I,{border:"",label:"对比数据导出"})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),Object(r["createVNode"])(Y,{label:"导出时间","label-width":w.formLabelWidth},{default:o((function(){return[Object(r["createVNode"])(W,{placeholder:"起始时间",modelValue:w.form.startTime,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w.form.startTime=e}),start:w.startTime,step:"01:00",end:w.endTime},null,8,["modelValue","start","end"]),Object(r["createVNode"])(W,{placeholder:"结束时间",modelValue:w.form.endTime,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w.form.endTime=e}),start:w.startTime,step:"01:00",end:w.endTime,minTime:w.form.startTime},null,8,["modelValue","start","end","minTime"])]})),_:1},8,["label-width"])]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])])})),w=(a("13d5"),a("00fe")),k=a("3660"),T=a("bc3a"),C=a.n(T),S=a("a7c0"),_=a("313e"),P={name:"passengerFlow",data:function(){var e=this;return{exportTable:[],exportItem:[],marketName:"万达",startTime:"",endTime:"",chartValue:[],mallStartTime:"",mallEndTime:"",chart:{},timeValue:"",chartData:[],chartList:[0,0],defaultChartList:[0,0],dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",startTime:"9:00",endTime:"21:00"},formLabelWidth:"120px",screenWidth:document.body.clientWidth,shortcuts:[{text:"昨天",value:function(){return e.$moment().subtract(1,"days")}()}]}},methods:{onSubmit:function(){var e=this;this.$message.success("查询成功"),this.chart.clear(),console.log(this.timeValue),C()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/querySaleFlow?time=".concat(13)).then((function(t){var a=t.data.data.sale;e.chartList[1]=a.reduce((function(e,t){return e+t})),e.chartData[1]={name:e.$moment(e.timeValue).format("YYYY-MM-DD"),type:"line",stack:"总量",areaStyle:{opacity:.8,color:new _["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(55, 162, 255)"},{offset:1,color:"rgba(116, 21, 219)"}])},emphasis:{focus:"series"},data:a},e.chart=e.initChart(e.$refs.myEchart1,e.chartData);for(var r=["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"],o={},n=0;n<r.length;n++)o[r[n]]=a[n];o["dateTime"]=e.$moment(e.timeValue).format("YYYY-MM-DD"),o["marketName"]=e.marketName,e.exportTable[1]=o}))},initChart:function(e,t){var a=_["b"](e),r={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:[this.$moment().format("YYYY-MM-DD"),this.$moment(this.timeValue).format("YYYY-MM-DD")]},toolbox:{feature:{saveAsImage:{},dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"]}],yAxis:[{type:"value"}],series:t};return a.setOption(r),console.log("1"),a},reSet:function(){this.chart.clear(),this.initChart(this.$refs.myEchart1,this.chartData),this.chartList=this.defaultChartList,this.timeValue=this.$moment().subtract(1,"days"),this.$message.success("重置成功")},marketGet:function(e){this.marketName=e}},mounted:function(){var e=this,t=["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"];this.exportItem.push({value:"dateTime",label:"日期"}),this.exportItem.push({value:"marketName",label:"商场名称"});for(var a=0;a<t.length;a++)this.exportItem.push({value:t[a],label:t[a]});this.timeValue=this.$moment().subtract(1,"days");var r=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,r.screenWidth=window.screenWidth}()};var o=this.$moment().format("YYYY-MM-DD");C()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/querySaleFlow?time=".concat(13)).then((function(a){var r=a.data.data.sale;e.startTime=a.data.data.startTime,e.endTime=a.data.data.endTime,e.chartList[0]=r.reduce((function(e,t){return e+t})),e.defaultChartList[0]=e.chartList[0],e.chartData.push({name:"".concat(o),type:"line",stack:"总量",areaStyle:{opacity:.8,color:new _["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(128, 255, 165)"},{offset:1,color:"rgba(1, 191, 236)"}])},emphasis:{focus:"series"},data:r}),console.log(a.data.data),e.chart=e.initChart(e.$refs.myEchart1,e.chartData);for(var n={},i=0;i<t.length;i++)n[t[i]]=r[i];n["dateTime"]=o,n["marketName"]=e.marketName,e.exportTable.push(n),console.log(e.exportTable)})),C()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/querySaleFlow?time=".concat(13)).then((function(a){var r=a.data.data.sale;e.chartList[1]=r.reduce((function(e,t){return e+t})),e.defaultChartList[1]=e.chartList[1],e.chartData[1]={name:e.$moment(e.timeValue).format("YYYY-MM-DD"),type:"line",stack:"总量",areaStyle:{opacity:.8,color:new _["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(55, 162, 255)"},{offset:1,color:"rgba(116, 21, 219)"}])},emphasis:{focus:"series"},data:r},e.chart=e.initChart(e.$refs.myEchart1,e.chartData);for(var o={},n=0;n<t.length;n++)o[t[n]]=r[n];o["dateTime"]=e.$moment(e.timeValue).format("YYYY-MM-DD"),o["marketName"]=e.marketName,e.exportTable[1]=o}))},components:{crumbs:w["a"],market:k["a"],ExportExcel:S["a"]},computed:{},watch:{screenWidth:function(e){if(!this.timer){this.screenWidth=e,this.timer=!0;var t=this;setTimeout((function(){console.log(t.screenWidth),t.timer=!1,t.chart.resize()}),400)}}}};a("c552");P.render=x,P.__scopeId="data-v-1b1c9b38";t["default"]=P},dbb4:function(e,t,a){var r=a("23e7"),o=a("83ab"),n=a("56ef"),i=a("fc6a"),c=a("06cf"),l=a("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,a,r=i(e),o=c.f,s=n(r),d={},u=0;while(s.length>u)a=o(r,t=s[u++]),void 0!==a&&l(d,t,a);return d}})},dfc9:function(e,t,a){"use strict";a.r(t);a("d81d");var r=a("7a23"),o=Object(r["withScopeId"])("data-v-2f393ea0");Object(r["pushScopeId"])("data-v-2f393ea0");var n={class:" container sql"},i=Object(r["createTextVNode"])(" 选择日期: "),c=Object(r["createTextVNode"])("查询"),l=Object(r["createTextVNode"])("重置"),s=Object(r["createTextVNode"])("导出"),d={class:"allCard"},u={class:"grid-content grid-con-1"},f=Object(r["createVNode"])("i",{class:"el-icon-user-solid grid-con-icon"},null,-1),h={class:"grid-cont-right"},b={class:"grid-num"},m=Object(r["createVNode"])("div",null,"今日客流量",-1),p={class:"grid-content grid-con-2"},g=Object(r["createVNode"])("i",{class:"el-icon-message-solid grid-con-icon"},null,-1),v={class:"grid-cont-right"},O={class:"grid-num"},j=Object(r["createVNode"])("div",null,"当日客流量",-1),y={ref:"myEchart1",style:{height:"350px",width:"100%"}},V=Object(r["createTextVNode"])("确 定"),N=Object(r["createTextVNode"])("取 消");Object(r["popScopeId"])();var x=o((function(e,t,a,x,w,k){var T=Object(r["resolveComponent"])("crumbs"),C=Object(r["resolveComponent"])("market"),S=Object(r["resolveComponent"])("el-col"),_=Object(r["resolveComponent"])("el-date-picker"),P=Object(r["resolveComponent"])("el-button"),L=Object(r["resolveComponent"])("export-excel"),D=Object(r["resolveComponent"])("el-row"),M=Object(r["resolveComponent"])("el-card"),Y=Object(r["resolveComponent"])("el-form-item"),I=Object(r["resolveComponent"])("el-radio"),A=Object(r["resolveComponent"])("el-radio-group"),W=Object(r["resolveComponent"])("el-time-select"),E=Object(r["resolveComponent"])("el-form"),B=Object(r["resolveComponent"])("el-dialog");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(T,{menu:"实时数据",subMenu:"客流量"}),Object(r["createVNode"])("div",n,[Object(r["createVNode"])(D,{type:"flex",justify:"space-around"},{default:o((function(){return[Object(r["createVNode"])(S,{span:7},{default:o((function(){return[Object(r["createVNode"])(C,{onMarketGet:k.marketGet},null,8,["onMarketGet"])]})),_:1}),Object(r["createVNode"])(S,{span:7},{default:o((function(){return[i,Object(r["createVNode"])(_,{modelValue:w.timeValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.timeValue=e}),"value-format":"yyyy-MM-dd",align:"right",type:"date",placeholder:"选择日期","disabled-date":e.disabledDate,shortcuts:w.shortcuts},null,8,["modelValue","disabled-date","shortcuts"])]})),_:1}),Object(r["createVNode"])(S,{span:7},{default:o((function(){return[Object(r["createVNode"])(P,{type:"primary",icon:"el-icon-search",onClick:k.onSubmit},{default:o((function(){return[c]})),_:1},8,["onClick"]),Object(r["createVNode"])(P,{type:"primary",icon:"el-icon-refresh-right",onClick:k.reSet},{default:o((function(){return[l]})),_:1},8,["onClick"]),Object(r["createVNode"])(L,{"file-name":"客流数据",header:w.exportItem.map((function(e){return e.label})),"filter-filed":w.exportItem.map((function(e){return e.value})),data:w.exportTable},{default:o((function(){return[s]})),_:1},8,["header","filter-filed","data"])]})),_:1})]})),_:1})]),Object(r["createVNode"])("div",d,[Object(r["createVNode"])(D,{gutter:20,class:"mgb20"},{default:o((function(){return[Object(r["createVNode"])(S,{span:12},{default:o((function(){return[Object(r["createVNode"])(M,{shadow:"hover","body-style":{padding:"0px"}},{default:o((function(){return[Object(r["createVNode"])("div",u,[f,Object(r["createVNode"])("div",h,[Object(r["createVNode"])("div",b,Object(r["toDisplayString"])(w.chartList[0]),1),m])])]})),_:1})]})),_:1}),Object(r["createVNode"])(S,{span:12},{default:o((function(){return[Object(r["createVNode"])(M,{shadow:"hover","body-style":{padding:"0px"}},{default:o((function(){return[Object(r["createVNode"])("div",p,[g,Object(r["createVNode"])("div",v,[Object(r["createVNode"])("div",O,Object(r["toDisplayString"])(0==w.chartList[1]?"未选择对比时间":w.chartList[1]),1),j])])]})),_:1})]})),_:1})]})),_:1})]),Object(r["createVNode"])(M,{header:"客流量对比图",style:{"font-weight":"bold"}},{default:o((function(){return[Object(r["createVNode"])("div",y,null,512)]})),_:1}),Object(r["createVNode"])("div",null,[Object(r["createVNode"])(B,{title:"数据导出",modelValue:w.dialogFormVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return w.dialogFormVisible=e})},{footer:o((function(){return[Object(r["createVNode"])(P,{type:"primary",onClick:t[5]||(t[5]=function(e){return w.dialogFormVisible=!1})},{default:o((function(){return[V]})),_:1}),Object(r["createVNode"])(P,{onClick:t[6]||(t[6]=function(e){return w.dialogFormVisible=!1})},{default:o((function(){return[N]})),_:1})]})),default:o((function(){return[Object(r["createVNode"])(E,{model:w.form},{default:o((function(){return[Object(r["createVNode"])(Y,{label:"商场名称:","label-width":w.formLabelWidth},{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(w.marketName),1)]})),_:1},8,["label-width"]),Object(r["createVNode"])(Y,{label:"数据维度:","label-width":w.formLabelWidth},{default:o((function(){return[Object(r["createVNode"])(A,{modelValue:w.form.resource,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w.form.resource=e}),size:"medium"},{default:o((function(){return[Object(r["createVNode"])(I,{border:"",label:"当日数据导出"}),Object(r["createVNode"])(I,{border:"",label:"查询数据导出"}),Object(r["createVNode"])(I,{border:"",label:"对比数据导出"})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),Object(r["createVNode"])(Y,{label:"导出时间","label-width":w.formLabelWidth},{default:o((function(){return[Object(r["createVNode"])(W,{placeholder:"起始时间",modelValue:w.form.startTime,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w.form.startTime=e}),start:w.startTime,step:"01:00",end:w.endTime},null,8,["modelValue","start","end"]),Object(r["createVNode"])(W,{placeholder:"结束时间",modelValue:w.form.endTime,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w.form.endTime=e}),start:w.startTime,step:"01:00",end:w.endTime,minTime:w.form.startTime},null,8,["modelValue","start","end","minTime"])]})),_:1},8,["label-width"])]})),_:1},8,["model"])]})),_:1},8,["modelValue"])])])})),w=(a("13d5"),a("00fe")),k=a("3660"),T=a("bc3a"),C=a.n(T),S=a("a7c0"),_=a("313e"),P={name:"passengerFlow",data:function(){var e=this;return{exportTable:[],exportItem:[],marketName:"万达",startTime:"",endTime:"",chartValue:[],mallStartTime:"",mallEndTime:"",chart:{},timeValue:"",chartData:[],chartList:[0,0],defaultChartList:[0,0],dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",startTime:"9:00",endTime:"21:00"},formLabelWidth:"120px",screenWidth:document.body.clientWidth,shortcuts:[{text:"昨天",value:function(){return e.$moment().subtract(1,"days")}()}]}},methods:{onSubmit:function(){var e=this;this.$message.success("查询成功"),this.chart.clear(),console.log(this.timeValue),C()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/querySaleFlow?time=".concat(13)).then((function(t){var a=t.data.data.flow;e.chartList[1]=a.reduce((function(e,t){return e+t})),e.chartData[1]={name:e.$moment(e.timeValue).format("YYYY-MM-DD"),type:"line",stack:"总量",areaStyle:{opacity:.8,color:new _["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(55, 162, 255)"},{offset:1,color:"rgba(116, 21, 219)"}])},emphasis:{focus:"series"},data:a},e.chart=e.initChart(e.$refs.myEchart1,e.chartData);for(var r=["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"],o={},n=0;n<r.length;n++)o[r[n]]=a[n];o["dateTime"]=e.$moment(e.timeValue).format("YYYY-MM-DD"),o["marketName"]=e.marketName,e.exportTable[1]=o}))},initChart:function(e,t){var a=_["b"](e),r={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:[this.$moment().format("YYYY-MM-DD"),this.$moment(this.timeValue).format("YYYY-MM-DD")]},toolbox:{feature:{saveAsImage:{},dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"]}],yAxis:[{type:"value"}],series:t};return a.setOption(r),console.log("1"),a},reSet:function(){this.chart.clear(),this.initChart(this.$refs.myEchart1,this.chartData),this.chartList=this.defaultChartList,this.timeValue=this.$moment().subtract(1,"days"),this.$message.success("重置成功")},marketGet:function(e){this.marketName=e}},mounted:function(){var e=this,t=["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"];this.exportItem.push({value:"dateTime",label:"日期"}),this.exportItem.push({value:"marketName",label:"商场名称"});for(var a=0;a<t.length;a++)this.exportItem.push({value:t[a],label:t[a]});this.timeValue=this.$moment().subtract(1,"days");var r=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,r.screenWidth=window.screenWidth}()};var o=this.$moment().format("YYYY-MM-DD");C()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/querySaleFlow?time=".concat(13)).then((function(a){var r=a.data.data.flow;e.startTime=a.data.data.startTime,e.endTime=a.data.data.endTime,e.chartList[0]=r.reduce((function(e,t){return e+t})),e.defaultChartList[0]=e.chartList[0],e.chartData.push({name:"".concat(o),type:"line",stack:"总量",areaStyle:{opacity:.8,color:new _["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(128, 255, 165)"},{offset:1,color:"rgba(1, 191, 236)"}])},emphasis:{focus:"series"},data:r}),console.log(a.data.data),e.chart=e.initChart(e.$refs.myEchart1,e.chartData);for(var n={},i=0;i<t.length;i++)n[t[i]]=r[i];n["dateTime"]=o,n["marketName"]=e.marketName,e.exportTable.push(n),console.log(e.exportTable)})),C()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/querySaleFlow?time=".concat(13)).then((function(a){var r=a.data.data.flow;e.chartList[1]=r.reduce((function(e,t){return e+t})),e.defaultChartList[1]=e.chartList[1],e.chartData[1]={name:e.$moment(e.timeValue).format("YYYY-MM-DD"),type:"line",stack:"总量",areaStyle:{opacity:.8,color:new _["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(55, 162, 255)"},{offset:1,color:"rgba(116, 21, 219)"}])},emphasis:{focus:"series"},data:r},e.chart=e.initChart(e.$refs.myEchart1,e.chartData);for(var o={},n=0;n<t.length;n++)o[t[n]]=r[n];o["dateTime"]=e.$moment(e.timeValue).format("YYYY-MM-DD"),o["marketName"]=e.marketName,e.exportTable[1]=o}))},components:{crumbs:w["a"],market:k["a"],ExportExcel:S["a"]},computed:{},watch:{screenWidth:function(e){if(!this.timer){this.screenWidth=e,this.timer=!0;var t=this;setTimeout((function(){console.log(t.screenWidth),t.timer=!1,t.chart.resize()}),400)}}}};a("7ad5");P.render=x,P.__scopeId="data-v-2f393ea0";t["default"]=P},e439:function(e,t,a){var r=a("23e7"),o=a("d039"),n=a("fc6a"),i=a("06cf").f,c=a("83ab"),l=o((function(){i(1)})),s=!c||l;r({target:"Object",stat:!0,forced:s,sham:!c},{getOwnPropertyDescriptor:function(e,t){return i(n(e),t)}})},e5383:function(e,t,a){var r=a("b622");t.f=r},eb17:function(e,t,a){"use strict";a("75ab")},f5ac:function(e,t,a){"use strict";var r=a("7a23");function o(e,t,a,o,n,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])("canvas",{id:a.canvasId},null,8,["id"])])}var n=a("5530"),i=a("b367"),c=a.n(i),l={props:{canvasId:{type:String,default:"",required:!0},options:{type:Object,required:!0}},mounted:function(){this.renderChart()},methods:{renderChart:function(){if(this.checkOptions()){var e=Object(n["a"])({},this.options);new c.a(this.canvasId,e)}},checkOptions:function(){var e=this.options;return!(!e.datasets||!e.datasets.length)&&!(!e.labels||!e.labels.length)}},watch:{options:{handler:function(e,t){this.renderChart()},deep:!0}}};l.render=o;t["a"]=l},fb6a:function(e,t,a){"use strict";var r=a("23e7"),o=a("861d"),n=a("e8b5"),i=a("23cb"),c=a("50c4"),l=a("fc6a"),s=a("8418"),d=a("b622"),u=a("1dde"),f=u("slice"),h=d("species"),b=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var a,r,d,u=l(this),f=c(u.length),p=i(e,f),g=i(void 0===t?f:t,f);if(n(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[h],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return b.call(u,p,g);for(r=new(void 0===a?Array:a)(m(g-p,0)),d=0;p<g;p++,d++)p in u&&s(r,d,u[p]);return r.length=d,r}})}}]);
//# sourceMappingURL=dashboard.fdc391d6.js.map