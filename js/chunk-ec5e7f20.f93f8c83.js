(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec5e7f20"],{2625:function(e,t,a){"use strict";a("fd35")},2801:function(e,t,a){"use strict";a.r(t);a("fb6a");var n=a("7a23"),o=Object(n["withScopeId"])("data-v-16167771");Object(n["pushScopeId"])("data-v-16167771");var r={class:"container sql"},c=Object(n["createTextVNode"])("区域选择:"),l=Object(n["createTextVNode"])("时间范围:"),i=Object(n["createTextVNode"])("查询"),u=Object(n["createTextVNode"])("重置"),s=Object(n["createTextVNode"])("导出"),d={class:"pagination flexCenter"};Object(n["popScopeId"])();var p=o((function(e,t,a,p,m,b){var f=Object(n["resolveComponent"])("crumbs"),h=Object(n["resolveComponent"])("el-col"),g=Object(n["resolveComponent"])("market"),j=Object(n["resolveComponent"])("el-radio-button"),O=Object(n["resolveComponent"])("el-radio-group"),k=Object(n["resolveComponent"])("el-date-picker"),v=Object(n["resolveComponent"])("el-button"),V=Object(n["resolveComponent"])("export-excel"),N=Object(n["resolveComponent"])("el-button-group"),S=Object(n["resolveComponent"])("el-row"),C=Object(n["resolveComponent"])("el-table-column"),R=Object(n["resolveComponent"])("el-table"),x=Object(n["resolveComponent"])("el-pagination"),y=Object(n["resolveComponent"])("el-card");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(f,{menu:"店铺客流",subMenu:"店铺过店"}),Object(n["createVNode"])("div",r,[Object(n["createVNode"])(S,null,{default:o((function(){return[Object(n["createVNode"])(h,{span:2,class:"fontCenter fontSet"},{default:o((function(){return[c]})),_:1}),Object(n["createVNode"])(h,{span:4},{default:o((function(){return[Object(n["createVNode"])(g,{onMarketGet:b.marketGet,marketSet:m.marketName},null,8,["onMarketGet","marketSet"])]})),_:1}),Object(n["createVNode"])(h,{span:2,class:"fontCenter fontSet borderSet"},{default:o((function(){return[l]})),_:1}),Object(n["createVNode"])(h,{span:10},{default:o((function(){return[Object(n["createVNode"])(h,{span:15},{default:o((function(){return[Object(n["createVNode"])(O,{modelValue:m.time,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m.time=e})},{default:o((function(){return[Object(n["createVNode"])(j,{label:"近7日"}),Object(n["createVNode"])(j,{label:"近30日"}),Object(n["createVNode"])(j,{label:"近1年"}),Object(n["createVNode"])(j,{label:"自定义时间"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(h,{span:9},{default:o((function(){return[Object(n["createVNode"])(k,{style:{width:"100%"},disabled:m.datePickerAble,modelValue:m.timeRange,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m.timeRange=e}),type:"daterange",shortcuts:m.shortcuts,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},null,8,["disabled","modelValue","shortcuts"])]})),_:1})]})),_:1}),Object(n["createVNode"])(h,{span:6},{default:o((function(){return[Object(n["createVNode"])(N,null,{default:o((function(){return[Object(n["createVNode"])(v,{type:"primary",icon:"el-icon-search",onClick:b.onQuery},{default:o((function(){return[i]})),_:1},8,["onClick"]),Object(n["createVNode"])(v,{type:"primary",icon:"el-icon-refresh-right",onClick:b.reSet},{default:o((function(){return[u]})),_:1},8,["onClick"]),Object(n["createVNode"])(V,{"file-name":"店铺过店",header:["进店率排行","店铺名称","进店率","过店率排行","过店率","商场名称"],"filter-filed":["inRank","shopName","inShopRate","passRank","passShopRate","marketName"],data:b.exportTable()},{default:o((function(){return[s]})),_:1},8,["data"])]})),_:1})]})),_:1})]})),_:1})]),Object(n["createVNode"])(y,{class:"marginTop10",shadow:"hover"},{default:o((function(){return[Object(n["createVNode"])(S,null,{default:o((function(){return[Object(n["createVNode"])(R,{class:"font-set",data:m.tableData.slice((m.currentPage-1)*m.pagesize,m.currentPage*m.pagesize),style:{width:"100%","margin-bottom":"10px","margin-top":"10px","font-size":"9px"},"row-key":"id",border:"","current-page":m.currentPage,stripe:"",onSortChange:b.sort_change},{default:o((function(){return[Object(n["createVNode"])(C,{prop:"inRank",label:"进店率排行",sortable:"",align:"center"}),Object(n["createVNode"])(C,{prop:"shopName",label:"店铺名称",sortable:"",align:"center"}),Object(n["createVNode"])(C,{prop:"inShopRate",label:"进店率",formatter:b.formatter,sortable:"",align:"center"},null,8,["formatter"]),Object(n["createVNode"])(C,{prop:"passRank",label:"过店率排行",sortable:"",align:"center"}),Object(n["createVNode"])(C,{prop:"passShopRate",label:"过店率",sortable:"",formatter:b.formatter,align:"center"},null,8,["formatter"])]})),_:1},8,["data","current-page","onSortChange"])]})),_:1}),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(x,{class:"flexCenter",onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange,"page-sizes":[10],"page-size":m.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:m.total},null,8,["onSizeChange","onCurrentChange","page-size","total"])])]})),_:1})])})),m=(a("99af"),a("00fe")),b=a("3660"),f=a("bc3a"),h=a.n(f),g=a("a7c0"),j={data:function(){var e=this;return{time:"近7日",timeRange:"",marketName:"万达",datePickerAble:!0,shortcuts:[{text:"最近一周",value:function(){var t=new Date,a=new Date;return a.setTime(a.getTime()-6048e5),[e.$moment().subtract(7,"days"),t]}()},{text:"最近一月",value:function(){var t=new Date,a=new Date;return a.setTime(a.getTime()-2592e6),[e.$moment().subtract(1,"months"),t]}()},{text:"最近一年",value:function(){var t=new Date,a=new Date;return a.setFullYear(a.getFullYear()-1),[e.$moment().subtract(1,"years"),t]}()}],currentPage:1,pagesize:10,total:0,tableData:[]}},methods:{marketGet:function(e){this.marketName=e},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},reSet:function(){this.marketName="万达",this.time="近7日",this.onQuery()},onQuery:function(){var e=this;h()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getShopByShop").then((function(t){var a=t.data.list.data;a=a.sort((function(e,t){return t.inShopRate-e.inShopRate}));for(var n=0;n<a.length;n++)a[n].inRank=n+1;a=a.sort((function(e,t){return t.passShopRate-e.passShopRate}));for(var o=0;o<a.length;o++)a[o].passRank=o+1;a=a.sort((function(e,t){return t.inShopRate-e.inShopRate})),e.tableData=a,e.total=e.tableData.length}))},sort_change:function(e){console.log(e),"ascending"==e.order?this.tableData.sort((function(t,a){return t[e.prop]-a[e.prop]})):"descending"==e.order?this.tableData.sort((function(t,a){return a[e.prop]-t[e.prop]})):this.tableData.sort((function(e,t){return e.inRank-t.inRank}))},formatter:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return[].concat(t)[2]+"%"},exportTable:function(){for(var e=0;e<this.tableData.length;e++)this.tableData[e].marketName=this.marketName;return this.tableData}},components:{crumbs:m["a"],market:b["a"],ExportExcel:g["a"]},mounted:function(){var e=this;this.timeRange=[this.$moment().subtract(7,"days"),this.$moment()],h()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getShopByShop").then((function(t){var a=t.data.list.data;a=a.sort((function(e,t){return t.inShopRate-e.inShopRate}));for(var n=0;n<a.length;n++)a[n].inRank=n+1;a=a.sort((function(e,t){return t.passShopRate-e.passShopRate}));for(var o=0;o<a.length;o++)a[o].passRank=o+1;a=a.sort((function(e,t){return t.inShopRate-e.inShopRate})),e.tableData=a,e.total=e.tableData.length})),this.textWidth=document.getElementById("text").offsetWidth},watch:{time:function(e){"近7日"===e&&(this.timeRange=[this.$moment().subtract(7,"days"),this.$moment()]),"近30日"===e&&(this.timeRange=[this.$moment().subtract(1,"months"),this.$moment()]),"近1年"===e&&(this.timeRange=[this.$moment().subtract(1,"year"),this.$moment()]),this.datePickerAble="自定义时间"!=e}},computed:{}};a("2625");j.render=p,j.__scopeId="data-v-16167771";t["default"]=j},3660:function(e,t,a){"use strict";var n=a("7a23"),o=Object(n["withScopeId"])("data-v-29634978");Object(n["pushScopeId"])("data-v-29634978");var r=Object(n["createVNode"])("span",{id:"text"},"商场名称:",-1);Object(n["popScopeId"])();var c=o((function(e,t,a,c,l,i){var u=Object(n["resolveComponent"])("el-option"),s=Object(n["resolveComponent"])("el-select");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[r,Object(n["createVNode"])(s,{modelValue:l.marketValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.marketValue=e}),placeholder:"请选择",class:"widthset",style:i.widthSet,onChange:i.submitMarket,filterable:""},{default:o((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(l.marketList,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","style","onChange"])])})),l=(a("d81d"),a("bc3a")),i=a.n(l),u={props:["marketSet"],data:function(){return{marketValue:"万达",marketList:[],textWidth:""}},components:{},mounted:function(){var e=this;this.textWidth=document.getElementById("text").offsetWidth,i()("https://mock.mengxuegu.com/mock/6076fee5990ff82a18f95b5f/item/getMall").then((function(t){e.marketList=t.data.list.map((function(e){return{label:e.marketName,value:e.marketName}}))}))},methods:{submitMarket:function(e){this.$emit("marketGet",e)}},computed:{widthSet:function(){return"width:calc(90% - ".concat(this.textWidth,"px);")}},watch:{marketSet:function(e){console.log(e),this.marketValue=e}}};a("c6da");u.render=c,u.__scopeId="data-v-29634978";t["a"]=u},"72e6":function(e,t,a){},c6da:function(e,t,a){"use strict";a("72e6")},fb6a:function(e,t,a){"use strict";var n=a("23e7"),o=a("861d"),r=a("e8b5"),c=a("23cb"),l=a("50c4"),i=a("fc6a"),u=a("8418"),s=a("b622"),d=a("1dde"),p=d("slice"),m=s("species"),b=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var a,n,s,d=i(this),p=l(d.length),h=c(e,p),g=c(void 0===t?p:t,p);if(r(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?o(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return b.call(d,h,g);for(n=new(void 0===a?Array:a)(f(g-h,0)),s=0;h<g;h++,s++)h in d&&u(n,s,d[h]);return n.length=s,n}})},fd35:function(e,t,a){}}]);
//# sourceMappingURL=chunk-ec5e7f20.f93f8c83.js.map